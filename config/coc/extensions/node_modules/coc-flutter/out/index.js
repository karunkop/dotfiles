var Nh=Object.create,Fn=Object.defineProperty,Mh=Object.getPrototypeOf,$h=Object.prototype.hasOwnProperty,Fh=Object.getOwnPropertyNames,Hh=Object.getOwnPropertyDescriptor;var ki=e=>Fn(e,"__esModule",{value:!0});var y=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Ia=(e,t)=>{for(var r in t)Fn(e,r,{get:t[r],enumerable:!0})},Ih=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Fh(t))!$h.call(e,n)&&n!=="default"&&Fn(e,n,{get:()=>t[n],enumerable:!(r=Hh(t,n))||r.enumerable});return e},j=e=>Ih(ki(Fn(e!=null?Nh(Mh(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Qa=y((kw,Ga)=>{Ga.exports=Va;Va.sync=Gh;var za=require("fs");function Vh(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Xa(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Vh(t,r)}function Va(e,t,r){za.stat(e,function(n,i){r(n,n?!1:Xa(i,e,t))})}function Gh(e,t){return Xa(za.statSync(e),e,t)}});var eu=y((Dw,Ka)=>{Ka.exports=Ya;Ya.sync=zh;var Ja=require("fs");function Ya(e,t,r){Ja.stat(e,function(n,i){r(n,n?!1:Za(i,t))})}function zh(e,t){return Za(Ja.statSync(e),t)}function Za(e,t){return e.isFile()&&Xh(e,t)}function Xh(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),p=parseInt("001",8),m=a|c,g=r&p||r&c&&i===o||r&a&&n===s||r&m&&s===0;return g}});var ru=y((Lw,tu)=>{var Ow=require("fs"),In;process.platform==="win32"||global.TESTING_WINDOWS?In=Qa():In=eu();tu.exports=Ni;Ni.sync=Qh;function Ni(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Ni(e,t||{},function(s,o){s?i(s):n(o)})})}In(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Qh(e,t){try{return In.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var cu=y((qw,nu)=>{var _r=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",iu=require("path"),Kh=_r?";":":",su=ru(),ou=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),au=(e,t)=>{let r=t.colon||Kh,n=e.match(/\//)||_r&&e.match(/\\/)?[""]:[..._r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=_r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=_r?i.split(r):[""];return _r&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},uu=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:s}=au(e,t),o=[],a=p=>new Promise((m,g)=>{if(p===n.length)return t.all&&o.length?m(o):g(ou(e));let h=n[p],R=/^".*"$/.test(h)?h.slice(1,-1):h,C=iu.join(R,e),x=!R&&/^\.[\\\/]/.test(e)?e.slice(0,2)+C:C;m(c(x,p,0))}),c=(p,m,g)=>new Promise((h,R)=>{if(g===i.length)return h(a(m+1));let C=i[g];su(p+C,{pathExt:s},(x,O)=>{if(!x&&O)if(t.all)o.push(p+C);else return h(p+C);return h(c(p,m,g+1))})});return r?a(0).then(p=>r(null,p),r):a(0)},Yh=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=au(e,t),s=[];for(let o=0;o<r.length;o++){let a=r[o],c=/^".*"$/.test(a)?a.slice(1,-1):a,p=iu.join(c,e),m=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;for(let g=0;g<n.length;g++){let h=m+n[g];try{if(su.sync(h,{pathExt:i}))if(t.all)s.push(h);else return h}catch(R){}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw ou(e)};nu.exports=uu;uu.sync=Yh});var lu=y(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.splitWhen=br.flatten=void 0;function Jh(e){return e.reduce((t,r)=>[].concat(t,r),[])}br.flatten=Jh;function Zh(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}br.splitWhen=Zh});var fu=y(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.isEnoentCodeError=void 0;function em(e){return e.code==="ENOENT"}jn.isEnoentCodeError=em});var pu=y(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.createDirentFromStats=void 0;var du=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function tm(e,t){return new du(e,t)}Bn.createDirentFromStats=tm});var hu=y(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.removeLeadingDotSegment=yt.escape=yt.makeAbsolute=yt.unixify=void 0;var rm=require("path"),nm=2,im=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function sm(e){return e.replace(/\\/g,"/")}yt.unixify=sm;function om(e,t){return rm.resolve(e,t)}yt.makeAbsolute=om;function am(e){return e.replace(im,"\\$2")}yt.escape=am;function um(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(nm)}return e}yt.removeLeadingDotSegment=um});var gu=y((Hw,mu)=>{mu.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var yu=y((Iw,vu)=>{var cm=gu(),lm={"{":"}","(":")","[":"]"},fm=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,dm=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;vu.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(cm(t))return!0;var n=fm,i;for(r&&r.strict===!1&&(n=dm);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?lm[o]:null;if(o&&a){var c=t.indexOf(a,s);c!==-1&&(s=c+1)}t=t.slice(s)}return!1}});var bu=y((jw,_u)=>{"use strict";var pm=yu(),hm=require("path").posix.dirname,mm=require("os").platform()==="win32",Mi="/",gm=/\\/g,vm=/[\{\[].*[\/]*.*[\}\]]$/,ym=/(^|[^\\])([\{\[]|\([^\)]+$)/,_m=/\\([\*\?\|\[\]\(\)\{\}])/g;_u.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&mm&&t.indexOf(Mi)<0&&(t=t.replace(gm,Mi)),vm.test(t)&&(t+=Mi),t+="a";do t=hm(t);while(pm(t)||ym.test(t));return t.replace(_m,"$1")}});var Wn=y(et=>{"use strict";et.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;et.find=(e,t)=>e.nodes.find(r=>r.type===t);et.exceedsLimit=(e,t,r=1,n)=>n===!1||!et.isInteger(e)||!et.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;et.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};et.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;et.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;et.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;et.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);et.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var Un=y((Ww,Ru)=>{"use strict";var Su=Wn();Ru.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&Su.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Su.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(e)}});var Eu=y((Uw,wu)=>{"use strict";wu.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Lu=y((Gw,Cu)=>{"use strict";var xu=Eu(),er=(e,t,r)=>{if(xu(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(xu(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),c=e+":"+t+"="+i+s+o+a;if(er.cache.hasOwnProperty(c))return er.cache[c].result;let p=Math.min(e,t),m=Math.max(e,t);if(Math.abs(p-m)===1){let x=e+"|"+t;return n.capture?`(${x})`:n.wrap===!1?x:`(?:${x})`}let g=Pu(e)||Pu(t),h={min:e,max:t,a:p,b:m},R=[],C=[];if(g&&(h.isPadded=g,h.maxLen=String(h.max).length),p<0){let x=m<0?Math.abs(m):1;C=Tu(x,Math.abs(p),h,n),p=h.a=0}return m>=0&&(R=Tu(p,m,h,n)),h.negatives=C,h.positives=R,h.result=bm(C,R,n),n.capture===!0?h.result=`(${h.result})`:n.wrap!==!1&&R.length+C.length>1&&(h.result=`(?:${h.result})`),er.cache[c]=h,h.result};function bm(e,t,r){let n=$i(e,t,"-",!1,r)||[],i=$i(t,e,"",!1,r)||[],s=$i(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function Sm(e,t){let r=1,n=1,i=Au(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=Au(e,r);for(i=ku(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=ku(t+1,n)-1;return s=[...s],s.sort(Rm),s}function Cm(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=wm(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[c,p]=n[a];c===p?s+=c:c!=="0"||p!=="9"?s+=Em(c,p,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Tu(e,t,r,n){let i=Sm(e,t),s=[],o=e,a;for(let c=0;c<i.length;c++){let p=i[c],m=Cm(String(o),String(p),n),g="";if(!r.isPadded&&a&&a.pattern===m.pattern){a.count.length>1&&a.count.pop(),a.count.push(m.count[0]),a.string=a.pattern+Du(a.count),o=p+1;continue}r.isPadded&&(g=xm(p,r,n)),m.string=g+m.pattern+Du(m.count),s.push(m),o=p+1,a=m}return s}function $i(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Ou(t,"string",a)&&s.push(r+a),n&&Ou(t,"string",a)&&s.push(r+a)}return s}function wm(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function Rm(e,t){return e>t?1:t>e?-1:0}function Ou(e,t,r){return e.some(n=>n[t]===r)}function Au(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function ku(e,t){return e-e%Math.pow(10,t)}function Du(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Em(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function Pu(e){return/^-?(0+)\d/.test(e)}function xm(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}er.cache={};er.clearCache=()=>er.cache={};Cu.exports=er});var Ii=y((Vw,qu)=>{"use strict";var Tm=require("util"),Nu=Lu(),Mu=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Pm=e=>t=>e===!0?Number(t):String(t),Fi=e=>typeof e=="number"||typeof e=="string"&&e!=="",sn=e=>Number.isInteger(+e),Hi=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Am=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,km=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},$u=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Dm=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},Fu=(e,t,r,n)=>{if(r)return Nu(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Hu=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Nu(e,t,r)},Iu=(...e)=>new RangeError("Invalid range arguments: "+Tm.inspect(...e)),ju=(e,t,r)=>{if(r.strictRanges===!0)throw Iu([e,t]);return[]},Om=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Lm=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Iu([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),c=String(t),p=String(r);r=Math.max(Math.abs(r),1);let m=Hi(a)||Hi(c)||Hi(p),g=m?Math.max(a.length,c.length,p.length):0,h=m===!1&&Am(e,t,n)===!1,R=n.transform||Pm(h);if(n.toRegex&&r===1)return Fu($u(e,g),$u(t,g),!0,n);let C={negatives:[],positives:[]},x=D=>C[D<0?"negatives":"positives"].push(Math.abs(D)),O=[],$=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?x(i):O.push(km(R(i,$),g,h)),i=o?i-r:i+r,$++;return n.toRegex===!0?r>1?Dm(C,n):Hu(O,null,{wrap:!1,...n}):O},qm=(e,t,r=1,n={})=>{if(!sn(e)&&e.length>1||!sn(t)&&t.length>1)return ju(e,t,n);let i=n.transform||(h=>String.fromCharCode(h)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,c=Math.min(s,o),p=Math.max(s,o);if(n.toRegex&&r===1)return Fu(c,p,!1,n);let m=[],g=0;for(;a?s>=o:s<=o;)m.push(i(s,g)),s=a?s-r:s+r,g++;return n.toRegex===!0?Hu(m,null,{wrap:!1,options:n}):m},Gn=(e,t,r,n={})=>{if(t==null&&Fi(e))return[e];if(!Fi(e)||!Fi(t))return ju(e,t,n);if(typeof r=="function")return Gn(e,t,1,{transform:r});if(Mu(r))return Gn(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,sn(r)?sn(e)&&sn(t)?Lm(e,t,r,i):qm(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Mu(r)?Om(r,i):Gn(e,t,1,r)};qu.exports=Gn});var Uu=y((zw,Bu)=>{"use strict";var Nm=Ii(),Wu=Wn(),Mm=(e,t={})=>{let r=(n,i={})=>{let s=Wu.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,c=t.escapeInvalid===!0?"\\":"",p="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let m=Wu.reduce(n.nodes),g=Nm(...m,{...t,wrap:!1,toRegex:!0});if(g.length!==0)return m.length>1&&g.length>1?`(${g})`:g}if(n.nodes)for(let m of n.nodes)p+=r(m,n);return p};return r(e)};Bu.exports=Mm});var zu=y((Xw,Gu)=>{"use strict";var $m=Ii(),Vu=Un(),Rr=Wn(),tr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Rr.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(tr(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?tr(i,s,r):i+s);return Rr.flatten(n)},Fm=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(tr(a.pop(),Vu(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(tr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let g=Rr.reduce(i.nodes);if(Rr.exceedsLimit(...g,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=$m(...g,t);h.length===0&&(h=Vu(i,t)),a.push(tr(a.pop(),h)),i.nodes=[];return}let c=Rr.encloseBrace(i),p=i.queue,m=i;for(;m.type!=="brace"&&m.type!=="root"&&m.parent;)m=m.parent,p=m.queue;for(let g=0;g<i.nodes.length;g++){let h=i.nodes[g];if(h.type==="comma"&&i.type==="brace"){g===1&&p.push(""),p.push("");continue}if(h.type==="close"){a.push(tr(a.pop(),p,c));continue}if(h.value&&h.type!=="open"){p.push(tr(p.pop(),h.value));continue}h.nodes&&n(h,i)}return p};return Rr.flatten(n(e))};Gu.exports=Fm});var Qu=y((Qw,Xu)=>{"use strict";Xu.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var ec=y((Kw,Ku)=>{"use strict";var Hm=Un(),{MAX_LENGTH:Yu,CHAR_BACKSLASH:ji,CHAR_BACKTICK:Im,CHAR_COMMA:jm,CHAR_DOT:Bm,CHAR_LEFT_PARENTHESES:Wm,CHAR_RIGHT_PARENTHESES:Um,CHAR_LEFT_CURLY_BRACE:Gm,CHAR_RIGHT_CURLY_BRACE:Vm,CHAR_LEFT_SQUARE_BRACKET:Ju,CHAR_RIGHT_SQUARE_BRACKET:Zu,CHAR_DOUBLE_QUOTE:zm,CHAR_SINGLE_QUOTE:Xm,CHAR_NO_BREAK_SPACE:Qm,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Km}=Qu(),Ym=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Yu,r.maxLength):Yu;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,c=0,p=e.length,m=0,g=0,h,R={},C=()=>e[m++],x=O=>{if(O.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&O.type==="text"){a.value+=O.value;return}return o.nodes.push(O),O.parent=o,O.prev=a,a=O,O};for(x({type:"bos"});m<p;)if(o=s[s.length-1],h=C(),!(h===Km||h===Qm)){if(h===ji){x({type:"text",value:(t.keepEscaping?h:"")+C()});continue}if(h===Zu){x({type:"text",value:"\\"+h});continue}if(h===Ju){c++;let O=!0,$;for(;m<p&&($=C());){if(h+=$,$===Ju){c++;continue}if($===ji){h+=C();continue}if($===Zu&&(c--,c===0))break}x({type:"text",value:h});continue}if(h===Wm){o=x({type:"paren",nodes:[]}),s.push(o),x({type:"text",value:h});continue}if(h===Um){if(o.type!=="paren"){x({type:"text",value:h});continue}o=s.pop(),x({type:"text",value:h}),o=s[s.length-1];continue}if(h===zm||h===Xm||h===Im){let O=h,$;for(t.keepQuotes!==!0&&(h="");m<p&&($=C());){if($===ji){h+=$+C();continue}if($===O){t.keepQuotes===!0&&(h+=$);break}h+=$}x({type:"text",value:h});continue}if(h===Gm){g++;let O=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=x({type:"brace",open:!0,close:!1,dollar:O,depth:g,commas:0,ranges:0,nodes:[]}),s.push(o),x({type:"open",value:h});continue}if(h===Vm){if(o.type!=="brace"){x({type:"text",value:h});continue}let O="close";o=s.pop(),o.close=!0,x({type:O,value:h}),g--,o=s[s.length-1];continue}if(h===jm&&g>0){if(o.ranges>0){o.ranges=0;let O=o.nodes.shift();o.nodes=[O,{type:"text",value:Hm(o)}]}x({type:"comma",value:h}),o.commas++;continue}if(h===Bm&&g>0&&o.commas===0){let O=o.nodes;if(g===0||O.length===0){x({type:"text",value:h});continue}if(a.type==="dot"){if(o.range=[],a.value+=h,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){O.pop();let $=O[O.length-1];$.value+=a.value+h,a=$,o.ranges--;continue}x({type:"dot",value:h});continue}x({type:"text",value:h})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(D=>{D.nodes||(D.type==="open"&&(D.isOpen=!0),D.type==="close"&&(D.isClose=!0),D.nodes||(D.type="text"),D.invalid=!0)});let O=s[s.length-1],$=O.nodes.indexOf(o);O.nodes.splice($,1,...o.nodes)}while(s.length>0);return x({type:"eos"}),i};Ku.exports=Ym});var nc=y((Yw,tc)=>{"use strict";var rc=Un(),Jm=Uu(),Zm=zu(),eg=ec(),Ke=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Ke.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ke.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Ke.parse=(e,t={})=>eg(e,t);Ke.stringify=(e,t={})=>typeof e=="string"?rc(Ke.parse(e,t),t):rc(e,t);Ke.compile=(e,t={})=>(typeof e=="string"&&(e=Ke.parse(e,t)),Jm(e,t));Ke.expand=(e,t={})=>{typeof e=="string"&&(e=Ke.parse(e,t));let r=Zm(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Ke.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Ke.compile(e,t):Ke.expand(e,t);tc.exports=Ke});var on=y((Jw,ic)=>{"use strict";var tg=require("path"),_t="\\\\/",sc=`[^${_t}]`,At="\\.",rg="\\+",ng="\\?",Vn="\\/",ig="(?=.)",oc="[^/]",Bi=`(?:${Vn}|$)`,ac=`(?:^|${Vn})`,Wi=`${At}{1,2}${Bi}`,sg=`(?!${At})`,og=`(?!${ac}${Wi})`,ag=`(?!${At}{0,1}${Bi})`,ug=`(?!${Wi})`,cg=`[^.${Vn}]`,lg=`${oc}*?`,uc={DOT_LITERAL:At,PLUS_LITERAL:rg,QMARK_LITERAL:ng,SLASH_LITERAL:Vn,ONE_CHAR:ig,QMARK:oc,END_ANCHOR:Bi,DOTS_SLASH:Wi,NO_DOT:sg,NO_DOTS:og,NO_DOT_SLASH:ag,NO_DOTS_SLASH:ug,QMARK_NO_DOT:cg,STAR:lg,START_ANCHOR:ac},fg={...uc,SLASH_LITERAL:`[${_t}]`,QMARK:sc,STAR:`${sc}*?`,DOTS_SLASH:`${At}{1,2}(?:[${_t}]|$)`,NO_DOT:`(?!${At})`,NO_DOTS:`(?!(?:^|[${_t}])${At}{1,2}(?:[${_t}]|$))`,NO_DOT_SLASH:`(?!${At}{0,1}(?:[${_t}]|$))`,NO_DOTS_SLASH:`(?!${At}{1,2}(?:[${_t}]|$))`,QMARK_NO_DOT:`[^.${_t}]`,START_ANCHOR:`(?:^|[${_t}])`,END_ANCHOR:`(?:[${_t}]|$)`},dg={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};ic.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:dg,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:tg.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?fg:uc}}});var an=y(tt=>{"use strict";var pg=require("path"),hg=process.platform==="win32",{REGEX_SPECIAL_CHARS:mg,REGEX_SPECIAL_CHARS_GLOBAL:gg,REGEX_REMOVE_BACKSLASH:vg}=on();tt.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);tt.hasRegexChars=e=>mg.test(e);tt.isRegexChar=e=>e.length===1&&tt.hasRegexChars(e);tt.escapeRegex=e=>e.replace(gg,"\\$1");tt.toPosixSlashes=e=>e.replace(/\\/g,"/");tt.removeBackslashes=e=>e.replace(vg,t=>t==="\\"?"":t);tt.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".");return e.length===3&&+e[0]>=9||+e[0]==8&&+e[1]>=10};tt.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:hg===!0||pg.sep==="\\";tt.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?tt.escapeLast(e,t,n-1):e.slice(0,n)+"\\"+e.slice(n)}});var mc=y((eE,cc)=>{"use strict";var lc=an(),{CHAR_ASTERISK:fc,CHAR_AT:yg,CHAR_BACKWARD_SLASH:un,CHAR_COMMA:_g,CHAR_DOT:Ui,CHAR_EXCLAMATION_MARK:dc,CHAR_FORWARD_SLASH:pc,CHAR_LEFT_CURLY_BRACE:Gi,CHAR_LEFT_PARENTHESES:hc,CHAR_LEFT_SQUARE_BRACKET:bg,CHAR_PLUS:Rg,CHAR_QUESTION_MARK:Sg,CHAR_RIGHT_CURLY_BRACE:wg,CHAR_RIGHT_PARENTHESES:Eg,CHAR_RIGHT_SQUARE_BRACKET:Cg}=on(),xg=e=>e===pc||e===un;cc.exports=(e,t)=>{let r=t||{},n=e.length-1,i=-1,s=0,o=0,a=!1,c=!1,p=!1,m=0,g,h,R=!1,C=()=>i>=n,x=()=>(g=h,e.charCodeAt(++i));for(;i<n;){h=x();let P;if(h===un){c=!0,P=x(),P===Gi&&(R=!0);continue}if(R===!0||h===Gi)for(m++;!C()&&(P=x());){if(P===un){c=!0,P=x();continue}if(P===Gi){m++;continue}if(!R&&P===Ui&&(P=x())===Ui){a=!0;break}if(!R&&P===_g){a=!0;break}if(P===wg&&(m--,m===0)){R=!1;break}}if(h===pc){if(g===Ui&&i===s+1){s+=2;continue}o=i+1;continue}if(h===fc){a=!0;break}if(h===fc||h===Sg){a=!0;break}if(h===bg)for(;!C()&&(P=x());){if(P===un){c=!0,P=x();continue}if(P===Cg){a=!0;break}}if((h===Rg||h===yg||h===dc)&&e.charCodeAt(i+1)===hc){a=!0;break}if(h===dc&&i===s){p=!0,s++;continue}if(h===hc)for(;!C()&&(P=x());){if(P===un){c=!0,P=x();continue}if(P===Eg){a=!0;break}}if(a)break}let O="",$=e,D=e,q="";return s>0&&(O=e.slice(0,s),e=e.slice(s),o-=s),D&&a===!0&&o>0?(D=e.slice(0,o),q=e.slice(o)):a===!0?(D="",q=e):D=e,D&&D!==""&&D!=="/"&&D!==e&&xg(D.charCodeAt(D.length-1))&&(D=D.slice(0,-1)),r.unescape===!0&&(q&&(q=lc.removeBackslashes(q)),D&&c===!0&&(D=lc.removeBackslashes(D))),{prefix:O,input:$,base:D,glob:q,negated:p,isGlob:a}}});var _c=y((tE,gc)=>{"use strict";var bt=an(),zn=on(),{MAX_LENGTH:Xn,POSIX_REGEX_SOURCE:Tg,REGEX_NON_SPECIAL_CHAR:Pg,REGEX_SPECIAL_CHARS_BACKREF:Ag,REPLACEMENTS:vc}=zn,kg=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>bt.escapeRegex(i)).join("..")}return r},Dg=e=>{let t=1;for(;e.peek()==="!"&&(e.peek(2)!=="("||e.peek(3)==="?");)e.advance(),e.start++,t++;return t%2==0?!1:(e.negated=!0,e.start++,!0)},Sr=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,yc=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=vc[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Xn,r.maxLength):Xn,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",c=bt.isWindows(t),p=zn.globChars(c),m=zn.extglobChars(p),{DOT_LITERAL:g,PLUS_LITERAL:h,SLASH_LITERAL:R,ONE_CHAR:C,DOTS_SLASH:x,NO_DOT:O,NO_DOT_SLASH:$,NO_DOTS_SLASH:D,QMARK:q,QMARK_NO_DOT:P,STAR:ue,START_ANCHOR:De}=p,M=L=>`(${a}(?:(?!${De}${L.dot?x:g}).)*?)`,G=r.dot?"":O,me=r.bash===!0?M(r):ue,xe=r.dot?q:P;r.capture&&(me=`(${me})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let f={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:o},B=[],Te=[],b=s,l,_=()=>f.index===i-1,U=f.peek=(L=1)=>e[f.index+L],re=f.advance=()=>e[++f.index],ge=L=>{f.output+=L.output!=null?L.output:L.value,f.consumed+=L.value||""},Oe=L=>{f[L]++,Te.push(L)},Pe=L=>{f[L]--,Te.pop()},z=L=>{if(b.type==="globstar"){let S=f.braces>0&&(L.type==="comma"||L.type==="brace"),H=B.length&&(L.type==="pipe"||L.type==="paren");L.type!=="slash"&&L.type!=="paren"&&!S&&!H&&(f.output=f.output.slice(0,-b.output.length),b.type="star",b.value="*",b.output=me,f.output+=b.output)}if(B.length&&L.type!=="paren"&&!m[L.value]&&(B[B.length-1].inner+=L.value),(L.value||L.output)&&ge(L),b&&b.type==="text"&&L.type==="text"){b.value+=L.value;return}L.prev=b,o.push(L),b=L},Tt=(L,S)=>{let H={...m[S],conditions:1,inner:""};H.prev=b,H.parens=f.parens,H.output=f.output;let ve=(r.capture?"(":"")+H.open;z({type:L,value:S,output:f.output?"":C}),z({type:"paren",extglob:!0,value:re(),output:ve}),Oe("parens"),B.push(H)},Ut=L=>{let S=L.close+(r.capture?")":"");if(L.type==="negate"){let H=me;L.inner&&L.inner.length>1&&L.inner.includes("/")&&(H=M(r)),(H!==me||_()||/^\)+$/.test(e.slice(f.index+1)))&&(S=L.close=")$))"+H),L.prev.type==="bos"&&_()&&(f.negatedExtglob=!0)}z({type:"paren",extglob:!0,value:l,output:S}),Pe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/{[()\]}"])/.test(e)){let L=!1,S=e.replace(Ag,(H,ve,A,Q,T,V)=>Q==="\\"?(L=!0,H):Q==="?"?ve?ve+Q+(T?q.repeat(T.length):""):V===0?xe+(T?q.repeat(T.length):""):q.repeat(A.length):Q==="."?g.repeat(A.length):Q==="*"?ve?ve+Q+(T?me:""):me:ve?H:"\\"+H);return L===!0&&(r.unescape===!0?S=S.replace(/\\/g,""):S=S.replace(/\\+/g,H=>H.length%2==0?"\\\\":H?"\\":"")),f.output=S,f}for(;!_();){if(l=re(),l==="\0")continue;if(l==="\\"){let S=U();if(S==="/"&&r.bash!==!0||S==="."||S===";")continue;if(!S){l+="\\",z({type:"text",value:l});continue}let H=/^\\+/.exec(e.slice(f.index+1)),ve=0;if(H&&H[0].length>2&&(ve=H[0].length,f.index+=ve,ve%2!=0&&(l+="\\")),r.unescape===!0?l=re()||"":l+=re()||"",f.brackets===0){z({type:"text",value:l});continue}}if(f.brackets>0&&(l!=="]"||b.value==="["||b.value==="[^")){if(r.posix!==!1&&l===":"){let S=b.value.slice(1);if(S.includes("[")&&(b.posix=!0,S.includes(":"))){let H=b.value.lastIndexOf("["),ve=b.value.slice(0,H),A=b.value.slice(H+2),Q=Tg[A];if(Q){b.value=ve+Q,f.backtrack=!0,re(),!s.output&&o.indexOf(b)===1&&(s.output=C);continue}}}(l==="["&&U()!==":"||l==="-"&&U()==="]")&&(l="\\"+l),l==="]"&&(b.value==="["||b.value==="[^")&&(l="\\"+l),r.posix===!0&&l==="!"&&b.value==="["&&(l="^"),b.value+=l,ge({value:l});continue}if(f.quotes===1&&l!=='"'){l=bt.escapeRegex(l),b.value+=l,ge({value:l});continue}if(l==='"'){f.quotes=f.quotes===1?0:1,r.keepQuotes===!0&&z({type:"text",value:l});continue}if(l==="("){z({type:"paren",value:l}),Oe("parens");continue}if(l===")"){if(f.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Sr("opening","("));let S=B[B.length-1];if(S&&f.parens===S.parens+1){Ut(B.pop());continue}z({type:"paren",value:l,output:f.parens?")":"\\)"}),Pe("parens");continue}if(l==="["){if(r.nobracket===!0||!e.slice(f.index+1).includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Sr("closing","]"));l="\\"+l}else Oe("brackets");z({type:"bracket",value:l});continue}if(l==="]"){if(r.nobracket===!0||b&&b.type==="bracket"&&b.value.length===1){z({type:"text",value:l,output:"\\"+l});continue}if(f.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Sr("opening","["));z({type:"text",value:l,output:"\\"+l});continue}Pe("brackets");let S=b.value.slice(1);if(b.posix!==!0&&S[0]==="^"&&!S.includes("/")&&(l="/"+l),b.value+=l,ge({value:l}),r.literalBrackets===!1||bt.hasRegexChars(S))continue;let H=bt.escapeRegex(b.value);if(f.output=f.output.slice(0,-b.value.length),r.literalBrackets===!0){f.output+=H,b.value=H;continue}b.value=`(${a}${H}|${b.value})`,f.output+=b.value;continue}if(l==="{"&&r.nobrace!==!0){z({type:"brace",value:l,output:"("}),Oe("braces");continue}if(l==="}"){if(r.nobrace===!0||f.braces===0){z({type:"text",value:l,output:"\\"+l});continue}let S=")";if(f.dots===!0){let H=o.slice(),ve=[];for(let A=H.length-1;A>=0&&(o.pop(),H[A].type!=="brace");A--)H[A].type!=="dots"&&ve.unshift(H[A].value);S=kg(ve,r),f.backtrack=!0}z({type:"brace",value:l,output:S}),Pe("braces");continue}if(l==="|"){B.length>0&&B[B.length-1].conditions++,z({type:"text",value:l});continue}if(l===","){let S=l;f.braces>0&&Te[Te.length-1]==="braces"&&(S="|"),z({type:"comma",value:l,output:S});continue}if(l==="/"){if(b.type==="dot"&&f.index===1){f.start=f.index+1,f.consumed="",f.output="",o.pop(),b=s;continue}z({type:"slash",value:l,output:R});continue}if(l==="."){if(f.braces>0&&b.type==="dot"){b.value==="."&&(b.output=g),b.type="dots",b.output+=l,b.value+=l,f.dots=!0;continue}z({type:"dot",value:l,output:g});continue}if(l==="?"){if(b&&b.type==="paren"){let S=U(),H=l;if(S==="<"&&!bt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(b.value==="("&&!/[!=<:]/.test(S)||S==="<"&&!/[!=]/.test(U(2)))&&(H="\\"+l),z({type:"text",value:l,output:H});continue}if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){Tt("qmark",l);continue}if(r.dot!==!0&&(b.type==="slash"||b.type==="bos")){z({type:"qmark",value:l,output:P});continue}z({type:"qmark",value:l,output:q});continue}if(l==="!"){if(r.noextglob!==!0&&U()==="("&&(U(2)!=="?"||!/[!=<:]/.test(U(3)))){Tt("negate",l);continue}if(r.nonegate!==!0&&f.index===0){Dg(f);continue}}if(l==="+"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){Tt("plus",l);continue}if(b&&(b.type==="bracket"||b.type==="paren"||b.type==="brace")){let S=b.extglob===!0?"\\"+l:l;z({type:"plus",value:l,output:S});continue}if(f.parens>0&&r.regex!==!1){z({type:"plus",value:l});continue}z({type:"plus",value:h});continue}if(l==="@"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){z({type:"at",value:l,output:""});continue}z({type:"text",value:l});continue}if(l!=="*"){(l==="$"||l==="^")&&(l="\\"+l);let S=Pg.exec(e.slice(f.index+1));S&&(l+=S[0],f.index+=S[0].length),z({type:"text",value:l});continue}if(b&&(b.type==="globstar"||b.star===!0)){b.type="star",b.star=!0,b.value+=l,b.output=me,f.backtrack=!0,f.consumed+=l;continue}if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){Tt("star",l);continue}if(b.type==="star"){if(r.noglobstar===!0){f.consumed+=l;continue}let S=b.prev,H=S.prev,ve=S.type==="slash"||S.type==="bos",A=H&&(H.type==="star"||H.type==="globstar");if(r.bash===!0&&(!ve||!_()&&U()!=="/")){z({type:"star",value:l,output:""});continue}let Q=f.braces>0&&(S.type==="comma"||S.type==="brace"),T=B.length&&(S.type==="pipe"||S.type==="paren");if(!ve&&S.type!=="paren"&&!Q&&!T){z({type:"star",value:l,output:""});continue}for(;e.slice(f.index+1,f.index+4)==="/**";){let ae=e[f.index+4];if(ae&&ae!=="/")break;f.consumed+="/**",f.index+=3}if(S.type==="bos"&&_()){b.type="globstar",b.value+=l,b.output=M(r),f.output=b.output,f.consumed+=l;continue}if(S.type==="slash"&&S.prev.type!=="bos"&&!A&&_()){f.output=f.output.slice(0,-(S.output+b.output).length),S.output="(?:"+S.output,b.type="globstar",b.output=M(r)+"|$)",b.value+=l,f.output+=S.output+b.output,f.consumed+=l;continue}let V=U();if(S.type==="slash"&&S.prev.type!=="bos"&&V==="/"){let ae=U(2)!==void 0?"|$":"";f.output=f.output.slice(0,-(S.output+b.output).length),S.output="(?:"+S.output,b.type="globstar",b.output=`${M(r)}${R}|${R}${ae})`,b.value+=l,f.output+=S.output+b.output,f.consumed+=l+re(),z({type:"slash",value:l,output:""});continue}if(S.type==="bos"&&V==="/"){b.type="globstar",b.value+=l,b.output=`(?:^|${R}|${M(r)}${R})`,f.output=b.output,f.consumed+=l+re(),z({type:"slash",value:l,output:""});continue}f.output=f.output.slice(0,-b.output.length),b.type="globstar",b.output=M(r),b.value+=l,f.output+=b.output,f.consumed+=l;continue}let L={type:"star",value:l,output:me};if(r.bash===!0){L.output=".*?",(b.type==="bos"||b.type==="slash")&&(L.output=G+L.output),z(L);continue}if(b&&(b.type==="bracket"||b.type==="paren")&&r.regex===!0){L.output=l,z(L);continue}(f.index===f.start||b.type==="slash"||b.type==="dot")&&(b.type==="dot"?(f.output+=$,b.output+=$):r.dot===!0?(f.output+=D,b.output+=D):(f.output+=G,b.output+=G),U()!=="*"&&(f.output+=C,b.output+=C)),z(L)}for(;f.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Sr("closing","]"));f.output=bt.escapeLast(f.output,"["),Pe("brackets")}for(;f.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Sr("closing",")"));f.output=bt.escapeLast(f.output,"("),Pe("parens")}for(;f.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Sr("closing","}"));f.output=bt.escapeLast(f.output,"{"),Pe("braces")}if(r.strictSlashes!==!0&&(b.type==="star"||b.type==="bracket")&&z({type:"maybe_slash",value:"",output:`${R}?`}),f.backtrack===!0){f.output="";for(let L of f.tokens)f.output+=L.output!=null?L.output:L.value,L.suffix&&(f.output+=L.suffix)}return f};yc.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Xn,r.maxLength):Xn,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=vc[e]||e;let s=bt.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:p,NO_DOT:m,NO_DOTS:g,NO_DOTS_SLASH:h,STAR:R,START_ANCHOR:C}=zn.globChars(s),x=r.capture?"":"?:",O=r.bash===!0?".*?":R,$=r.dot?g:m,D=r.dot?h:m;r.capture&&(O=`(${O})`);let q=De=>`(${x}(?:(?!${C}${De.dot?p:o}).)*?)`,P=De=>{switch(De){case"*":return`${$}${c}${O}`;case".*":return`${o}${c}${O}`;case"*.*":return`${$}${O}${o}${c}${O}`;case"*/*":return`${$}${O}${a}${c}${D}${O}`;case"**":return $+q(r);case"**/*":return`(?:${$}${q(r)}${a})?${D}${c}${O}`;case"**/*.*":return`(?:${$}${q(r)}${a})?${D}${O}${o}${c}${O}`;case"**/.*":return`(?:${$}${q(r)}${a})?${o}${c}${O}`;default:{let M=/^(.*?)\.(\w+)$/.exec(De);if(!M)return;let G=P(M[1],t);return G?G+o+M[2]:void 0}}},ue=P(e);return ue&&r.strictSlashes!==!0&&(ue+=`${a}?`),ue};gc.exports=yc});var Sc=y((rE,bc)=>{"use strict";var Og=require("path"),Lg=mc(),Rc=_c(),Vi=an(),qe=(e,t,r=!1)=>{if(Array.isArray(e)){let p=e.map(m=>qe(m,t,r));return m=>{for(let g of p){let h=g(m);if(h)return h}return!1}}if(typeof e!="string"||e==="")throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},i=Vi.isWindows(t),s=qe.makeRe(e,t,!1,!0),o=s.state;delete s.state;let a=()=>!1;if(n.ignore){let p={...t,ignore:null,onMatch:null,onResult:null};a=qe(n.ignore,p,r)}let c=(p,m=!1)=>{let{isMatch:g,match:h,output:R}=qe.test(p,s,t,{glob:e,posix:i}),C={glob:e,state:o,regex:s,posix:i,input:p,output:R,match:h,isMatch:g};return typeof n.onResult=="function"&&n.onResult(C),g===!1?(C.isMatch=!1,m?C:!1):a(p)?(typeof n.onIgnore=="function"&&n.onIgnore(C),C.isMatch=!1,m?C:!1):(typeof n.onMatch=="function"&&n.onMatch(C),m?C:!0)};return r&&(c.state=o),c};qe.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Vi.toPosixSlashes:null),a=e===n,c=a&&o?o(e):e;return a===!1&&(c=o?o(e):e,a=c===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=qe.matchBase(e,t,r,i):a=t.exec(c)),{isMatch:!!a,match:a,output:c}};qe.matchBase=(e,t,r,n=Vi.isWindows(r))=>(t instanceof RegExp?t:qe.makeRe(t,r)).test(Og.basename(e));qe.isMatch=(e,t,r)=>qe(t,r)(e);qe.parse=(e,t)=>Rc(e,t);qe.scan=(e,t)=>Lg(e,t);qe.makeRe=(e,t,r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a={negated:!1,fastpaths:!0},c="",p;if(e.startsWith("./")&&(e=e.slice(2),c=a.prefix="./"),i.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(p=Rc.fastpaths(e,t)),p===void 0&&(a=qe.parse(e,t),a.prefix=c+(a.prefix||""),p=a.output),r===!0)return p;let m=`${s}(?:${p})${o}`;a&&a.negated===!0&&(m=`^(?!${m}).*$`);let g=qe.toRegex(m,t);return n===!0&&(g.state=a),g};qe.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};qe.constants=on();bc.exports=qe});var Ec=y((nE,wc)=>{"use strict";wc.exports=Sc()});var Ac=y((iE,Cc)=>{"use strict";var xc=require("util"),Tc=nc(),Rt=Ec(),zi=an(),Pc=e=>typeof e=="string"&&(e===""||e==="./"),de=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=m=>{s.add(m.output),r&&r.onResult&&r.onResult(m)};for(let m=0;m<t.length;m++){let g=Rt(String(t[m]),{...r,onResult:a},!0),h=g.state.negated||g.state.negatedExtglob;h&&o++;for(let R of e){let C=g(R,!0);!(h?!C.isMatch:C.isMatch)||(h?n.add(C.output):(n.delete(C.output),i.add(C.output)))}}let p=(o===t.length?[...s]:[...i]).filter(m=>!n.has(m));if(r&&p.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(m=>m.replace(/\\/g,"")):t}return p};de.match=de;de.matcher=(e,t)=>Rt(e,t);de.isMatch=(e,t,r)=>Rt(t,r)(e);de.any=de.isMatch;de.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=de(e,t,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)o.includes(a)||n.add(a);return[...n]};de.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${xc.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>de.contains(e,n,r));if(typeof t=="string"){if(Pc(e)||Pc(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return de.isMatch(e,t,{...r,contains:!0})};de.matchKeys=(e,t,r)=>{if(!zi.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=de(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};de.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Rt(String(i),r);if(n.some(o=>s(o)))return!0}return!1};de.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Rt(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};de.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${xc.inspect(e)}"`);return[].concat(t).every(n=>Rt(n,r)(e))};de.capture=(e,t,r)=>{let n=zi.isWindows(r),s=Rt.makeRe(String(e),{...r,capture:!0}).exec(n?zi.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};de.makeRe=(...e)=>Rt.makeRe(...e);de.scan=(...e)=>Rt.scan(...e);de.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of Tc(String(n),t))r.push(Rt.parse(i,t));return r};de.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Tc(e,t)};de.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return de.braces(e,{...t,expand:!0})};Cc.exports=de});var cn=y((sE,kc)=>{"use strict";var qg=require("path"),St="\\\\/",Dc=`[^${St}]`,kt="\\.",Ng="\\+",Mg="\\?",Qn="\\/",$g="(?=.)",Oc="[^/]",Xi=`(?:${Qn}|$)`,Lc=`(?:^|${Qn})`,Qi=`${kt}{1,2}${Xi}`,Fg=`(?!${kt})`,Hg=`(?!${Lc}${Qi})`,Ig=`(?!${kt}{0,1}${Xi})`,jg=`(?!${Qi})`,Bg=`[^.${Qn}]`,Wg=`${Oc}*?`,qc={DOT_LITERAL:kt,PLUS_LITERAL:Ng,QMARK_LITERAL:Mg,SLASH_LITERAL:Qn,ONE_CHAR:$g,QMARK:Oc,END_ANCHOR:Xi,DOTS_SLASH:Qi,NO_DOT:Fg,NO_DOTS:Hg,NO_DOT_SLASH:Ig,NO_DOTS_SLASH:jg,QMARK_NO_DOT:Bg,STAR:Wg,START_ANCHOR:Lc},Ug={...qc,SLASH_LITERAL:`[${St}]`,QMARK:Dc,STAR:`${Dc}*?`,DOTS_SLASH:`${kt}{1,2}(?:[${St}]|$)`,NO_DOT:`(?!${kt})`,NO_DOTS:`(?!(?:^|[${St}])${kt}{1,2}(?:[${St}]|$))`,NO_DOT_SLASH:`(?!${kt}{0,1}(?:[${St}]|$))`,NO_DOTS_SLASH:`(?!${kt}{1,2}(?:[${St}]|$))`,QMARK_NO_DOT:`[^.${St}]`,START_ANCHOR:`(?:^|[${St}])`,END_ANCHOR:`(?:[${St}]|$)`},Gg={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};kc.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Gg,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:qg.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Ug:qc}}});var Kn=y(Xe=>{"use strict";var Vg=require("path"),zg=process.platform==="win32",{REGEX_BACKSLASH:Xg,REGEX_REMOVE_BACKSLASH:Qg,REGEX_SPECIAL_CHARS:Kg,REGEX_SPECIAL_CHARS_GLOBAL:Yg}=cn();Xe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Xe.hasRegexChars=e=>Kg.test(e);Xe.isRegexChar=e=>e.length===1&&Xe.hasRegexChars(e);Xe.escapeRegex=e=>e.replace(Yg,"\\$1");Xe.toPosixSlashes=e=>e.replace(Xg,"/");Xe.removeBackslashes=e=>e.replace(Qg,t=>t==="\\"?"":t);Xe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Xe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:zg===!0||Vg.sep==="\\";Xe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Xe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Xe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Xe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Wc=y((aE,Nc)=>{"use strict";var Mc=Kn(),{CHAR_ASTERISK:Ki,CHAR_AT:Jg,CHAR_BACKWARD_SLASH:ln,CHAR_COMMA:Zg,CHAR_DOT:Yi,CHAR_EXCLAMATION_MARK:$c,CHAR_FORWARD_SLASH:Fc,CHAR_LEFT_CURLY_BRACE:Ji,CHAR_LEFT_PARENTHESES:Zi,CHAR_LEFT_SQUARE_BRACKET:ev,CHAR_PLUS:tv,CHAR_QUESTION_MARK:Hc,CHAR_RIGHT_CURLY_BRACE:rv,CHAR_RIGHT_PARENTHESES:Ic,CHAR_RIGHT_SQUARE_BRACKET:nv}=cn(),jc=e=>e===Fc||e===ln,Bc=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},iv=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],c=e,p=-1,m=0,g=0,h=!1,R=!1,C=!1,x=!1,O=!1,$=!1,D=!1,q=!1,P=!1,ue=0,De,M,G={value:"",depth:0,isGlob:!1},me=()=>p>=n,xe=()=>c.charCodeAt(p+1),f=()=>(De=M,c.charCodeAt(++p));for(;p<n;){M=f();let _;if(M===ln){D=G.backslashes=!0,M=f(),M===Ji&&($=!0);continue}if($===!0||M===Ji){for(ue++;me()!==!0&&(M=f());){if(M===ln){D=G.backslashes=!0,f();continue}if(M===Ji){ue++;continue}if($!==!0&&M===Yi&&(M=f())===Yi){if(h=G.isBrace=!0,C=G.isGlob=!0,P=!0,i===!0)continue;break}if($!==!0&&M===Zg){if(h=G.isBrace=!0,C=G.isGlob=!0,P=!0,i===!0)continue;break}if(M===rv&&(ue--,ue===0)){$=!1,h=G.isBrace=!0,P=!0;break}}if(i===!0)continue;break}if(M===Fc){if(s.push(p),o.push(G),G={value:"",depth:0,isGlob:!1},P===!0)continue;if(De===Yi&&p===m+1){m+=2;continue}g=p+1;continue}if(r.noext!==!0&&(M===tv||M===Jg||M===Ki||M===Hc||M===$c)===!0&&xe()===Zi){if(C=G.isGlob=!0,x=G.isExtglob=!0,P=!0,i===!0){for(;me()!==!0&&(M=f());){if(M===ln){D=G.backslashes=!0,M=f();continue}if(M===Ic){C=G.isGlob=!0,P=!0;break}}continue}break}if(M===Ki){if(De===Ki&&(O=G.isGlobstar=!0),C=G.isGlob=!0,P=!0,i===!0)continue;break}if(M===Hc){if(C=G.isGlob=!0,P=!0,i===!0)continue;break}if(M===ev)for(;me()!==!0&&(_=f());){if(_===ln){D=G.backslashes=!0,f();continue}if(_===nv){if(R=G.isBracket=!0,C=G.isGlob=!0,P=!0,i===!0)continue;break}}if(r.nonegate!==!0&&M===$c&&p===m){q=G.negated=!0,m++;continue}if(r.noparen!==!0&&M===Zi){if(C=G.isGlob=!0,i===!0){for(;me()!==!0&&(M=f());){if(M===Zi){D=G.backslashes=!0,M=f();continue}if(M===Ic){P=!0;break}}continue}break}if(C===!0){if(P=!0,i===!0)continue;break}}r.noext===!0&&(x=!1,C=!1);let B=c,Te="",b="";m>0&&(Te=c.slice(0,m),c=c.slice(m),g-=m),B&&C===!0&&g>0?(B=c.slice(0,g),b=c.slice(g)):C===!0?(B="",b=c):B=c,B&&B!==""&&B!=="/"&&B!==c&&jc(B.charCodeAt(B.length-1))&&(B=B.slice(0,-1)),r.unescape===!0&&(b&&(b=Mc.removeBackslashes(b)),B&&D===!0&&(B=Mc.removeBackslashes(B)));let l={prefix:Te,input:e,start:m,base:B,glob:b,isBrace:h,isBracket:R,isGlob:C,isExtglob:x,isGlobstar:O,negated:q};if(r.tokens===!0&&(l.maxDepth=0,jc(M)||o.push(G),l.tokens=o),r.parts===!0||r.tokens===!0){let _;for(let U=0;U<s.length;U++){let re=_?_+1:m,ge=s[U],Oe=e.slice(re,ge);r.tokens&&(U===0&&m!==0?(o[U].isPrefix=!0,o[U].value=Te):o[U].value=Oe,Bc(o[U]),l.maxDepth+=o[U].depth),(U!==0||Oe!=="")&&a.push(Oe),_=ge}if(_&&_+1<e.length){let U=e.slice(_+1);a.push(U),r.tokens&&(o[o.length-1].value=U,Bc(o[o.length-1]),l.maxDepth+=o[o.length-1].depth)}l.slashes=s,l.parts=a}return l};Nc.exports=iv});var zc=y((uE,Uc)=>{"use strict";var Yn=cn(),Ye=Kn(),{MAX_LENGTH:Jn,POSIX_REGEX_SOURCE:sv,REGEX_NON_SPECIAL_CHARS:ov,REGEX_SPECIAL_CHARS_BACKREF:av,REPLACEMENTS:Gc}=Yn,uv=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>Ye.escapeRegex(i)).join("..")}return r},wr=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Vc=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Gc[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Jn,r.maxLength):Jn,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",c=Ye.isWindows(t),p=Yn.globChars(c),m=Yn.extglobChars(p),{DOT_LITERAL:g,PLUS_LITERAL:h,SLASH_LITERAL:R,ONE_CHAR:C,DOTS_SLASH:x,NO_DOT:O,NO_DOT_SLASH:$,NO_DOTS_SLASH:D,QMARK:q,QMARK_NO_DOT:P,STAR:ue,START_ANCHOR:De}=p,M=A=>`(${a}(?:(?!${De}${A.dot?x:g}).)*?)`,G=r.dot?"":O,me=r.dot?q:P,xe=r.bash===!0?M(r):ue;r.capture&&(xe=`(${xe})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let f={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Ye.removePrefix(e,f),i=e.length;let B=[],Te=[],b=[],l=s,_,U=()=>f.index===i-1,re=f.peek=(A=1)=>e[f.index+A],ge=f.advance=()=>e[++f.index],Oe=()=>e.slice(f.index+1),Pe=(A="",Q=0)=>{f.consumed+=A,f.index+=Q},z=A=>{f.output+=A.output!=null?A.output:A.value,Pe(A.value)},Tt=()=>{let A=1;for(;re()==="!"&&(re(2)!=="("||re(3)==="?");)ge(),f.start++,A++;return A%2==0?!1:(f.negated=!0,f.start++,!0)},Ut=A=>{f[A]++,b.push(A)},L=A=>{f[A]--,b.pop()},S=A=>{if(l.type==="globstar"){let Q=f.braces>0&&(A.type==="comma"||A.type==="brace"),T=A.extglob===!0||B.length&&(A.type==="pipe"||A.type==="paren");A.type!=="slash"&&A.type!=="paren"&&!Q&&!T&&(f.output=f.output.slice(0,-l.output.length),l.type="star",l.value="*",l.output=xe,f.output+=l.output)}if(B.length&&A.type!=="paren"&&!m[A.value]&&(B[B.length-1].inner+=A.value),(A.value||A.output)&&z(A),l&&l.type==="text"&&A.type==="text"){l.value+=A.value,l.output=(l.output||"")+A.value;return}A.prev=l,o.push(A),l=A},H=(A,Q)=>{let T={...m[Q],conditions:1,inner:""};T.prev=l,T.parens=f.parens,T.output=f.output;let V=(r.capture?"(":"")+T.open;Ut("parens"),S({type:A,value:Q,output:f.output?"":C}),S({type:"paren",extglob:!0,value:ge(),output:V}),B.push(T)},ve=A=>{let Q=A.close+(r.capture?")":"");if(A.type==="negate"){let T=xe;A.inner&&A.inner.length>1&&A.inner.includes("/")&&(T=M(r)),(T!==xe||U()||/^\)+$/.test(Oe()))&&(Q=A.close=`)$))${T}`),A.prev.type==="bos"&&U()&&(f.negatedExtglob=!0)}S({type:"paren",extglob:!0,value:_,output:Q}),L("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let A=!1,Q=e.replace(av,(T,V,ae,Fe,Se,gt)=>Fe==="\\"?(A=!0,T):Fe==="?"?V?V+Fe+(Se?q.repeat(Se.length):""):gt===0?me+(Se?q.repeat(Se.length):""):q.repeat(ae.length):Fe==="."?g.repeat(ae.length):Fe==="*"?V?V+Fe+(Se?xe:""):xe:V?T:`\\${T}`);return A===!0&&(r.unescape===!0?Q=Q.replace(/\\/g,""):Q=Q.replace(/\\+/g,T=>T.length%2==0?"\\\\":T?"\\":"")),Q===e&&r.contains===!0?(f.output=e,f):(f.output=Ye.wrapOutput(Q,f,t),f)}for(;!U();){if(_=ge(),_==="\0")continue;if(_==="\\"){let T=re();if(T==="/"&&r.bash!==!0||T==="."||T===";")continue;if(!T){_+="\\",S({type:"text",value:_});continue}let V=/^\\+/.exec(Oe()),ae=0;if(V&&V[0].length>2&&(ae=V[0].length,f.index+=ae,ae%2!=0&&(_+="\\")),r.unescape===!0?_=ge()||"":_+=ge()||"",f.brackets===0){S({type:"text",value:_});continue}}if(f.brackets>0&&(_!=="]"||l.value==="["||l.value==="[^")){if(r.posix!==!1&&_===":"){let T=l.value.slice(1);if(T.includes("[")&&(l.posix=!0,T.includes(":"))){let V=l.value.lastIndexOf("["),ae=l.value.slice(0,V),Fe=l.value.slice(V+2),Se=sv[Fe];if(Se){l.value=ae+Se,f.backtrack=!0,ge(),!s.output&&o.indexOf(l)===1&&(s.output=C);continue}}}(_==="["&&re()!==":"||_==="-"&&re()==="]")&&(_=`\\${_}`),_==="]"&&(l.value==="["||l.value==="[^")&&(_=`\\${_}`),r.posix===!0&&_==="!"&&l.value==="["&&(_="^"),l.value+=_,z({value:_});continue}if(f.quotes===1&&_!=='"'){_=Ye.escapeRegex(_),l.value+=_,z({value:_});continue}if(_==='"'){f.quotes=f.quotes===1?0:1,r.keepQuotes===!0&&S({type:"text",value:_});continue}if(_==="("){Ut("parens"),S({type:"paren",value:_});continue}if(_===")"){if(f.parens===0&&r.strictBrackets===!0)throw new SyntaxError(wr("opening","("));let T=B[B.length-1];if(T&&f.parens===T.parens+1){ve(B.pop());continue}S({type:"paren",value:_,output:f.parens?")":"\\)"}),L("parens");continue}if(_==="["){if(r.nobracket===!0||!Oe().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(wr("closing","]"));_=`\\${_}`}else Ut("brackets");S({type:"bracket",value:_});continue}if(_==="]"){if(r.nobracket===!0||l&&l.type==="bracket"&&l.value.length===1){S({type:"text",value:_,output:`\\${_}`});continue}if(f.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(wr("opening","["));S({type:"text",value:_,output:`\\${_}`});continue}L("brackets");let T=l.value.slice(1);if(l.posix!==!0&&T[0]==="^"&&!T.includes("/")&&(_=`/${_}`),l.value+=_,z({value:_}),r.literalBrackets===!1||Ye.hasRegexChars(T))continue;let V=Ye.escapeRegex(l.value);if(f.output=f.output.slice(0,-l.value.length),r.literalBrackets===!0){f.output+=V,l.value=V;continue}l.value=`(${a}${V}|${l.value})`,f.output+=l.value;continue}if(_==="{"&&r.nobrace!==!0){Ut("braces");let T={type:"brace",value:_,output:"(",outputIndex:f.output.length,tokensIndex:f.tokens.length};Te.push(T),S(T);continue}if(_==="}"){let T=Te[Te.length-1];if(r.nobrace===!0||!T){S({type:"text",value:_,output:_});continue}let V=")";if(T.dots===!0){let ae=o.slice(),Fe=[];for(let Se=ae.length-1;Se>=0&&(o.pop(),ae[Se].type!=="brace");Se--)ae[Se].type!=="dots"&&Fe.unshift(ae[Se].value);V=uv(Fe,r),f.backtrack=!0}if(T.comma!==!0&&T.dots!==!0){let ae=f.output.slice(0,T.outputIndex),Fe=f.tokens.slice(T.tokensIndex);T.value=T.output="\\{",_=V="\\}",f.output=ae;for(let Se of Fe)f.output+=Se.output||Se.value}S({type:"brace",value:_,output:V}),L("braces"),Te.pop();continue}if(_==="|"){B.length>0&&B[B.length-1].conditions++,S({type:"text",value:_});continue}if(_===","){let T=_,V=Te[Te.length-1];V&&b[b.length-1]==="braces"&&(V.comma=!0,T="|"),S({type:"comma",value:_,output:T});continue}if(_==="/"){if(l.type==="dot"&&f.index===f.start+1){f.start=f.index+1,f.consumed="",f.output="",o.pop(),l=s;continue}S({type:"slash",value:_,output:R});continue}if(_==="."){if(f.braces>0&&l.type==="dot"){l.value==="."&&(l.output=g);let T=Te[Te.length-1];l.type="dots",l.output+=_,l.value+=_,T.dots=!0;continue}if(f.braces+f.parens===0&&l.type!=="bos"&&l.type!=="slash"){S({type:"text",value:_,output:g});continue}S({type:"dot",value:_,output:g});continue}if(_==="?"){if(!(l&&l.value==="(")&&r.noextglob!==!0&&re()==="("&&re(2)!=="?"){H("qmark",_);continue}if(l&&l.type==="paren"){let V=re(),ae=_;if(V==="<"&&!Ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(l.value==="("&&!/[!=<:]/.test(V)||V==="<"&&!/<([!=]|\w+>)/.test(Oe()))&&(ae=`\\${_}`),S({type:"text",value:_,output:ae});continue}if(r.dot!==!0&&(l.type==="slash"||l.type==="bos")){S({type:"qmark",value:_,output:P});continue}S({type:"qmark",value:_,output:q});continue}if(_==="!"){if(r.noextglob!==!0&&re()==="("&&(re(2)!=="?"||!/[!=<:]/.test(re(3)))){H("negate",_);continue}if(r.nonegate!==!0&&f.index===0){Tt();continue}}if(_==="+"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){H("plus",_);continue}if(l&&l.value==="("||r.regex===!1){S({type:"plus",value:_,output:h});continue}if(l&&(l.type==="bracket"||l.type==="paren"||l.type==="brace")||f.parens>0){S({type:"plus",value:_});continue}S({type:"plus",value:h});continue}if(_==="@"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){S({type:"at",extglob:!0,value:_,output:""});continue}S({type:"text",value:_});continue}if(_!=="*"){(_==="$"||_==="^")&&(_=`\\${_}`);let T=ov.exec(Oe());T&&(_+=T[0],f.index+=T[0].length),S({type:"text",value:_});continue}if(l&&(l.type==="globstar"||l.star===!0)){l.type="star",l.star=!0,l.value+=_,l.output=xe,f.backtrack=!0,f.globstar=!0,Pe(_);continue}let A=Oe();if(r.noextglob!==!0&&/^\([^?]/.test(A)){H("star",_);continue}if(l.type==="star"){if(r.noglobstar===!0){Pe(_);continue}let T=l.prev,V=T.prev,ae=T.type==="slash"||T.type==="bos",Fe=V&&(V.type==="star"||V.type==="globstar");if(r.bash===!0&&(!ae||A[0]&&A[0]!=="/")){S({type:"star",value:_,output:""});continue}let Se=f.braces>0&&(T.type==="comma"||T.type==="brace"),gt=B.length&&(T.type==="pipe"||T.type==="paren");if(!ae&&T.type!=="paren"&&!Se&&!gt){S({type:"star",value:_,output:""});continue}for(;A.slice(0,3)==="/**";){let vt=e[f.index+4];if(vt&&vt!=="/")break;A=A.slice(3),Pe("/**",3)}if(T.type==="bos"&&U()){l.type="globstar",l.value+=_,l.output=M(r),f.output=l.output,f.globstar=!0,Pe(_);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&!Fe&&U()){f.output=f.output.slice(0,-(T.output+l.output).length),T.output=`(?:${T.output}`,l.type="globstar",l.output=M(r)+(r.strictSlashes?")":"|$)"),l.value+=_,f.globstar=!0,f.output+=T.output+l.output,Pe(_);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&A[0]==="/"){let vt=A[1]!==void 0?"|$":"";f.output=f.output.slice(0,-(T.output+l.output).length),T.output=`(?:${T.output}`,l.type="globstar",l.output=`${M(r)}${R}|${R}${vt})`,l.value+=_,f.output+=T.output+l.output,f.globstar=!0,Pe(_+ge()),S({type:"slash",value:"/",output:""});continue}if(T.type==="bos"&&A[0]==="/"){l.type="globstar",l.value+=_,l.output=`(?:^|${R}|${M(r)}${R})`,f.output=l.output,f.globstar=!0,Pe(_+ge()),S({type:"slash",value:"/",output:""});continue}f.output=f.output.slice(0,-l.output.length),l.type="globstar",l.output=M(r),l.value+=_,f.output+=l.output,f.globstar=!0,Pe(_);continue}let Q={type:"star",value:_,output:xe};if(r.bash===!0){Q.output=".*?",(l.type==="bos"||l.type==="slash")&&(Q.output=G+Q.output),S(Q);continue}if(l&&(l.type==="bracket"||l.type==="paren")&&r.regex===!0){Q.output=_,S(Q);continue}(f.index===f.start||l.type==="slash"||l.type==="dot")&&(l.type==="dot"?(f.output+=$,l.output+=$):r.dot===!0?(f.output+=D,l.output+=D):(f.output+=G,l.output+=G),re()!=="*"&&(f.output+=C,l.output+=C)),S(Q)}for(;f.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(wr("closing","]"));f.output=Ye.escapeLast(f.output,"["),L("brackets")}for(;f.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(wr("closing",")"));f.output=Ye.escapeLast(f.output,"("),L("parens")}for(;f.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(wr("closing","}"));f.output=Ye.escapeLast(f.output,"{"),L("braces")}if(r.strictSlashes!==!0&&(l.type==="star"||l.type==="bracket")&&S({type:"maybe_slash",value:"",output:`${R}?`}),f.backtrack===!0){f.output="";for(let A of f.tokens)f.output+=A.output!=null?A.output:A.value,A.suffix&&(f.output+=A.suffix)}return f};Vc.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Jn,r.maxLength):Jn,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=Gc[e]||e;let s=Ye.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:p,NO_DOT:m,NO_DOTS:g,NO_DOTS_SLASH:h,STAR:R,START_ANCHOR:C}=Yn.globChars(s),x=r.dot?g:m,O=r.dot?h:m,$=r.capture?"":"?:",D={negated:!1,prefix:""},q=r.bash===!0?".*?":R;r.capture&&(q=`(${q})`);let P=G=>G.noglobstar===!0?q:`(${$}(?:(?!${C}${G.dot?p:o}).)*?)`,ue=G=>{switch(G){case"*":return`${x}${c}${q}`;case".*":return`${o}${c}${q}`;case"*.*":return`${x}${q}${o}${c}${q}`;case"*/*":return`${x}${q}${a}${c}${O}${q}`;case"**":return x+P(r);case"**/*":return`(?:${x}${P(r)}${a})?${O}${c}${q}`;case"**/*.*":return`(?:${x}${P(r)}${a})?${O}${q}${o}${c}${q}`;case"**/.*":return`(?:${x}${P(r)}${a})?${o}${c}${q}`;default:{let me=/^(.*?)\.(\w+)$/.exec(G);if(!me)return;let xe=ue(me[1]);return xe?xe+o+me[2]:void 0}}},De=Ye.removePrefix(e,D),M=ue(De);return M&&r.strictSlashes!==!0&&(M+=`${a}?`),M};Uc.exports=Vc});var Qc=y((cE,Xc)=>{"use strict";var cv=require("path"),lv=Wc(),es=zc(),ts=Kn(),fv=cn(),dv=e=>e&&typeof e=="object"&&!Array.isArray(e),we=(e,t,r=!1)=>{if(Array.isArray(e)){let m=e.map(h=>we(h,t,r));return h=>{for(let R of m){let C=R(h);if(C)return C}return!1}}let n=dv(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=ts.isWindows(t),o=n?we.compileRe(e,t):we.makeRe(e,t,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(i.ignore){let m={...t,ignore:null,onMatch:null,onResult:null};c=we(i.ignore,m,r)}let p=(m,g=!1)=>{let{isMatch:h,match:R,output:C}=we.test(m,o,t,{glob:e,posix:s}),x={glob:e,state:a,regex:o,posix:s,input:m,output:C,match:R,isMatch:h};return typeof i.onResult=="function"&&i.onResult(x),h===!1?(x.isMatch=!1,g?x:!1):c(m)?(typeof i.onIgnore=="function"&&i.onIgnore(x),x.isMatch=!1,g?x:!1):(typeof i.onMatch=="function"&&i.onMatch(x),g?x:!0)};return r&&(p.state=a),p};we.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?ts.toPosixSlashes:null),a=e===n,c=a&&o?o(e):e;return a===!1&&(c=o?o(e):e,a=c===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=we.matchBase(e,t,r,i):a=t.exec(c)),{isMatch:Boolean(a),match:a,output:c}};we.matchBase=(e,t,r,n=ts.isWindows(r))=>(t instanceof RegExp?t:we.makeRe(t,r)).test(cv.basename(e));we.isMatch=(e,t,r)=>we(t,r)(e);we.parse=(e,t)=>Array.isArray(e)?e.map(r=>we.parse(r,t)):es(e,{...t,fastpaths:!1});we.scan=(e,t)=>lv(e,t);we.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let c=we.toRegex(a,t);return n===!0&&(c.state=e),c};we.makeRe=(e,t,r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i=t||{},s={negated:!1,fastpaths:!0},o="",a;return e.startsWith("./")&&(e=e.slice(2),o=s.prefix="./"),i.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(a=es.fastpaths(e,t)),a===void 0?(s=es(e,t),s.prefix=o+(s.prefix||"")):s.output=a,we.compileRe(s,t,r,n)};we.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};we.constants=fv;Xc.exports=we});var Yc=y((lE,Kc)=>{"use strict";Kc.exports=Qc()});var ol=y(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.matchAny=K.convertPatternsToRe=K.makeRe=K.getPatternParts=K.expandBraceExpansion=K.expandPatternsWithBraceExpansion=K.isAffectDepthOfReadingPattern=K.endsWithSlashGlobStar=K.hasGlobStar=K.getBaseDirectory=K.getPositivePatterns=K.getNegativePatterns=K.isPositivePattern=K.isNegativePattern=K.convertToNegativePattern=K.convertToPositivePattern=K.isDynamicPattern=K.isStaticPattern=void 0;var pv=require("path"),hv=bu(),Jc=Ac(),mv=Yc(),Zc="**",gv="\\",vv=/[*?]|^!/,yv=/\[.*]/,_v=/(?:^|[^!*+?@])\(.*\|.*\)/,bv=/[!*+?@]\(.*\)/,Rv=/{.*(?:,|\.\.).*}/;function tl(e,t={}){return!el(e,t)}K.isStaticPattern=tl;function el(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(gv)||vv.test(e)||yv.test(e)||_v.test(e)||t.extglob!==!1&&bv.test(e)||t.braceExpansion!==!1&&Rv.test(e))}K.isDynamicPattern=el;function Sv(e){return Zn(e)?e.slice(1):e}K.convertToPositivePattern=Sv;function wv(e){return"!"+e}K.convertToNegativePattern=wv;function Zn(e){return e.startsWith("!")&&e[1]!=="("}K.isNegativePattern=Zn;function rl(e){return!Zn(e)}K.isPositivePattern=rl;function Ev(e){return e.filter(Zn)}K.getNegativePatterns=Ev;function Cv(e){return e.filter(rl)}K.getPositivePatterns=Cv;function xv(e){return hv(e,{flipBackslashes:!1})}K.getBaseDirectory=xv;function Tv(e){return e.includes(Zc)}K.hasGlobStar=Tv;function nl(e){return e.endsWith("/"+Zc)}K.endsWithSlashGlobStar=nl;function Pv(e){let t=pv.basename(e);return nl(e)||tl(t)}K.isAffectDepthOfReadingPattern=Pv;function Av(e){return e.reduce((t,r)=>t.concat(il(r)),[])}K.expandPatternsWithBraceExpansion=Av;function il(e){return Jc.braces(e,{expand:!0,nodupes:!0})}K.expandBraceExpansion=il;function kv(e,t){let{parts:r}=mv.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}K.getPatternParts=kv;function sl(e,t){return Jc.makeRe(e,t)}K.makeRe=sl;function Dv(e,t){return e.map(r=>sl(r,t))}K.convertPatternsToRe=Dv;function Ov(e,t){return t.some(r=>r.test(e))}K.matchAny=Ov});var ll=y((dE,al)=>{"use strict";var Lv=require("stream"),ul=Lv.PassThrough,qv=Array.prototype.slice;al.exports=Nv;function Nv(){let e=[],t=!1,r=qv.call(arguments),n=r[r.length-1];n&&!Array.isArray(n)&&n.pipe==null?r.pop():n={};let i=n.end!==!1;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let s=ul(n);function o(){for(let p=0,m=arguments.length;p<m;p++)e.push(cl(arguments[p],n));return a(),this}function a(){if(t)return;t=!0;let p=e.shift();if(!p){process.nextTick(c);return}Array.isArray(p)||(p=[p]);let m=p.length+1;function g(){--m>0||(t=!1,a())}function h(R){function C(){R.removeListener("merge2UnpipeEnd",C),R.removeListener("end",C),g()}if(R._readableState.endEmitted)return g();R.on("merge2UnpipeEnd",C),R.on("end",C),R.pipe(s,{end:!1}),R.resume()}for(let R=0;R<p.length;R++)h(p[R]);g()}function c(){return t=!1,s.emit("queueDrain"),i&&s.end()}return s.setMaxListeners(0),s.add=o,s.on("unpipe",function(p){p.emit("merge2UnpipeEnd")}),r.length&&o.apply(null,r),s}function cl(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=cl(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(ul(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var dl=y(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.merge=void 0;var Mv=ll();function $v(e){let t=Mv(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>fl(e)),t.once("end",()=>fl(e)),t}ei.merge=$v;function fl(e){e.forEach(t=>t.emit("close"))}});var pl=y(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.isEmpty=Er.isString=void 0;function Fv(e){return typeof e=="string"}Er.isString=Fv;function Hv(e){return e===""}Er.isEmpty=Hv});var Dt=y(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.string=je.stream=je.pattern=je.path=je.fs=je.errno=je.array=void 0;var Iv=lu();je.array=Iv;var jv=fu();je.errno=jv;var Bv=pu();je.fs=Bv;var Wv=hu();je.path=Wv;var Uv=ol();je.pattern=Uv;var Gv=dl();je.stream=Gv;var Vv=pl();je.string=Vv});var yl=y(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.convertPatternGroupToTask=Be.convertPatternGroupsToTasks=Be.groupPatternsByBaseDirectory=Be.getNegativePatternsAsPositive=Be.getPositivePatterns=Be.convertPatternsToTasks=Be.generate=void 0;var rr=Dt();function zv(e,t){let r=hl(e),n=ml(e,t.ignore),i=r.filter(c=>rr.pattern.isStaticPattern(c,t)),s=r.filter(c=>rr.pattern.isDynamicPattern(c,t)),o=rs(i,n,!1),a=rs(s,n,!0);return o.concat(a)}Be.generate=zv;function rs(e,t,r){let n=gl(e);return"."in n?[ns(".",e,t,r)]:vl(n,t,r)}Be.convertPatternsToTasks=rs;function hl(e){return rr.pattern.getPositivePatterns(e)}Be.getPositivePatterns=hl;function ml(e,t){return rr.pattern.getNegativePatterns(e).concat(t).map(rr.pattern.convertToPositivePattern)}Be.getNegativePatternsAsPositive=ml;function gl(e){let t={};return e.reduce((r,n)=>{let i=rr.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Be.groupPatternsByBaseDirectory=gl;function vl(e,t,r){return Object.keys(e).map(n=>ns(n,e[n],t,r))}Be.convertPatternGroupsToTasks=vl;function ns(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(rr.pattern.convertToNegativePattern))}}Be.convertPatternGroupToTask=ns});var bl=y(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});function Xv(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null)return _l(r,n);if(!i.isSymbolicLink()||!t.followSymbolicLink)return ss(r,i);t.fs.stat(e,(s,o)=>{if(s!==null)return t.throwErrorOnBrokenSymbolicLink?_l(r,s):ss(r,i);t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),ss(r,o)})})}is.read=Xv;function _l(e,t){e(t)}function ss(e,t){e(null,t)}});var Rl=y(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});function Qv(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}os.read=Qv});var Sl=y(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});var ti=require("fs");Cr.FILE_SYSTEM_ADAPTER={lstat:ti.lstat,stat:ti.stat,lstatSync:ti.lstatSync,statSync:ti.statSync};function Kv(e){return e===void 0?Cr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Cr.FILE_SYSTEM_ADAPTER),e)}Cr.createFileSystemAdapter=Kv});var El=y(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});var Yv=Sl(),wl=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Yv.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t===void 0?r:t}};as.default=wl});var nr=y(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var Cl=bl(),Jv=Rl(),us=El();fn.Settings=us.default;function Zv(e,t,r){if(typeof t=="function")return Cl.read(e,cs(),t);Cl.read(e,cs(t),r)}fn.stat=Zv;function ey(e,t){let r=cs(t);return Jv.read(e,r)}fn.statSync=ey;function cs(e={}){return e instanceof us.default?e:new us.default(e)}});var Tl=y((SE,xl)=>{xl.exports=ty;function ty(e,t){var r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(c){function p(){t&&t(c,r),t=null}s?process.nextTick(p):p()}function a(c,p,m){r[c]=m,(--n==0||p)&&o(p)}n?i?i.forEach(function(c){e[c](function(p,m){a(c,p,m)})}):e.forEach(function(c,p){c(function(m,g){a(p,m,g)})}):o(null),s=!1}});var fs=y(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});var Pl=process.versions.node.split("."),Al=parseInt(Pl[0],10),ry=parseInt(Pl[1],10),kl=10,ny=10,iy=Al>kl,sy=Al===kl&&ry>=ny;ls.IS_SUPPORT_READDIR_WITH_FILE_TYPES=iy||sy});var Ol=y(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var Dl=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function oy(e,t){return new Dl(e,t)}ds.createDirentFromStats=oy});var hs=y(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var ay=Ol();ps.fs=ay});var $l=y(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var uy=nr(),Ll=Tl(),cy=fs(),ql=hs();function ly(e,t,r){return!t.stats&&cy.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Nl(e,t,r):Ml(e,t,r)}dn.read=ly;function Nl(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null)return ri(r,n);let s=i.map(a=>({dirent:a,name:a.name,path:`${e}${t.pathSegmentSeparator}${a.name}`}));if(!t.followSymbolicLinks)return ms(r,s);let o=s.map(a=>fy(a,t));Ll(o,(a,c)=>{if(a!==null)return ri(r,a);ms(r,c)})})}dn.readdirWithFileTypes=Nl;function fy(e,t){return r=>{if(!e.dirent.isSymbolicLink())return r(null,e);t.fs.stat(e.path,(n,i)=>n!==null?t.throwErrorOnBrokenSymbolicLink?r(n):r(null,e):(e.dirent=ql.fs.createDirentFromStats(e.name,i),r(null,e)))}}function Ml(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null)return ri(r,n);let s=i.map(a=>`${e}${t.pathSegmentSeparator}${a}`),o=s.map(a=>c=>uy.stat(a,t.fsStatSettings,c));Ll(o,(a,c)=>{if(a!==null)return ri(r,a);let p=[];i.forEach((m,g)=>{let h=c[g],R={name:m,path:s[g],dirent:ql.fs.createDirentFromStats(m,h)};t.stats&&(R.stats=h),p.push(R)}),ms(r,p)})})}dn.readdir=Ml;function ri(e,t){e(t)}function ms(e,t){e(null,t)}});var jl=y(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});var dy=nr(),py=fs(),Fl=hs();function hy(e,t){return!t.stats&&py.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Hl(e,t):Il(e,t)}pn.read=hy;function Hl(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:`${e}${t.pathSegmentSeparator}${n.name}`};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=Fl.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}pn.readdirWithFileTypes=Hl;function Il(e,t){return t.fs.readdirSync(e).map(n=>{let i=`${e}${t.pathSegmentSeparator}${n}`,s=dy.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:Fl.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}pn.readdir=Il});var Bl=y(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});var Tr=require("fs");xr.FILE_SYSTEM_ADAPTER={lstat:Tr.lstat,stat:Tr.stat,lstatSync:Tr.lstatSync,statSync:Tr.statSync,readdir:Tr.readdir,readdirSync:Tr.readdirSync};function my(e){return e===void 0?xr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},xr.FILE_SYSTEM_ADAPTER),e)}xr.createFileSystemAdapter=my});var Ul=y(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});var gy=require("path"),vy=nr(),yy=Bl(),Wl=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=yy.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,gy.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new vy.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t===void 0?r:t}};gs.default=Wl});var ni=y(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});var Gl=$l(),_y=jl(),vs=Ul();hn.Settings=vs.default;function by(e,t,r){if(typeof t=="function")return Gl.read(e,ys(),t);Gl.read(e,ys(t),r)}hn.scandir=by;function Ry(e,t){let r=ys(t);return _y.read(e,r)}hn.scandirSync=Ry;function ys(e={}){return e instanceof vs.default?e:new vs.default(e)}});var zl=y((DE,Vl)=>{"use strict";function Sy(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}Vl.exports=Sy});var Ql=y((OE,Xl)=>{"use strict";var wy=zl();function Cy(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);var n=wy(Ey),i=null,s=null,o=0,a={push:R,drain:wt,saturated:wt,pause:p,paused:!1,concurrency:r,running:c,resume:g,idle:h,length:m,unshift:C,empty:wt,kill:O,killAndDrain:$};return a;function c(){return o}function p(){a.paused=!0}function m(){for(var D=i,q=0;D;)D=D.next,q++;return q}function g(){if(!!a.paused){a.paused=!1;for(var D=0;D<a.concurrency;D++)o++,x()}}function h(){return o===0&&a.length()===0}function R(D,q){var P=n.get();P.context=e,P.release=x,P.value=D,P.callback=q||wt,o===a.concurrency||a.paused?s?(s.next=P,s=P):(i=P,s=P,a.saturated()):(o++,t.call(e,P.value,P.worked))}function C(D,q){var P=n.get();P.context=e,P.release=x,P.value=D,P.callback=q||wt,o===a.concurrency||a.paused?i?(P.next=i,i=P):(i=P,s=P,a.saturated()):(o++,t.call(e,P.value,P.worked))}function x(D){D&&n.release(D);var q=i;q?a.paused?o--:(s===i&&(s=null),i=q.next,q.next=null,t.call(e,q.value,q.worked),s===null&&a.empty()):--o==0&&a.drain()}function O(){i=null,s=null,a.drain=wt}function $(){i=null,s=null,a.drain(),a.drain=wt}}function wt(){}function Ey(){this.value=null,this.callback=wt,this.next=null,this.release=wt,this.context=null;var e=this;this.worked=function(r,n){var i=e.callback;e.value=null,e.callback=wt,i.call(e.context,r,n),e.release(e)}}Xl.exports=Cy});var ii=y(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});function xy(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Pr.isFatalError=xy;function Ty(e,t){return e===null||e(t)}Pr.isAppliedFilter=Ty;function Py(e,t){return e.split(/[\\/]/).join(t)}Pr.replacePathSegmentSeparator=Py;function Ay(e,t,r){return e===""?t:e+r+t}Pr.joinPathSegments=Ay});var bs=y(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var ky=ii(),Kl=class{constructor(t,r){this._root=t,this._settings=r,this._root=ky.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};_s.default=Kl});var Ss=y(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var Dy=require("events"),Oy=ni(),Ly=Ql(),si=ii(),qy=bs(),Yl=class extends qy.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=Oy.scandir,this._emitter=new Dy.EventEmitter,this._queue=Ly(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null)return r(n,void 0);for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){!si.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=si.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),si.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&si.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Rs.default=Yl});var Zl=y(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var Ny=Ss(),Jl=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Ny.default(this._root,this._settings),this._storage=new Set}read(t){this._reader.onError(r=>{My(t,r)}),this._reader.onEntry(r=>{this._storage.add(r)}),this._reader.onEnd(()=>{$y(t,[...this._storage])}),this._reader.read()}};ws.default=Jl;function My(e,t){e(t)}function $y(e,t){e(null,t)}});var tf=y(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Fy=require("stream"),Hy=Ss(),ef=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Hy.default(this._root,this._settings),this._stream=new Fy.Readable({objectMode:!0,read:()=>{},destroy:this._reader.destroy.bind(this._reader)})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Es.default=ef});var nf=y(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});var Iy=ni(),oi=ii(),jy=bs(),rf=class extends jy.default{constructor(){super(...arguments);this._scandir=Iy.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!oi.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=oi.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),oi.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&oi.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,t.path)}_pushToStorage(t){this._storage.add(t)}};Cs.default=rf});var of=y(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var By=nf(),sf=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new By.default(this._root,this._settings)}read(){return this._reader.read()}};xs.default=sf});var uf=y(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var Wy=require("path"),Uy=ni(),af=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Infinity),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Wy.sep),this.fsScandirSettings=new Uy.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t===void 0?r:t}};Ts.default=af});var As=y(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});var cf=Zl(),Gy=tf(),Vy=of(),Ps=uf();Ar.Settings=Ps.default;function zy(e,t,r){if(typeof t=="function")return new cf.default(e,ai()).read(t);new cf.default(e,ai(t)).read(r)}Ar.walk=zy;function Xy(e,t){let r=ai(t);return new Vy.default(e,r).read()}Ar.walkSync=Xy;function Qy(e,t){let r=ai(t);return new Gy.default(e,r).read()}Ar.walkStream=Qy;function ai(e={}){return e instanceof Ps.default?e:new Ps.default(e)}});var Ds=y(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var Ky=require("path"),Yy=nr(),lf=Dt(),ff=class{constructor(t){this._settings=t,this._fsStatSettings=new Yy.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return Ky.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:lf.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!lf.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};ks.default=ff});var Ls=y(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Jy=require("stream"),Zy=nr(),e_=As(),t_=Ds(),df=class extends t_.default{constructor(){super(...arguments);this._walkStream=e_.walkStream,this._stat=Zy.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new Jy.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(c=>{c!==null&&r.entryFilter(c)&&i.push(c),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};Os.default=df});var hf=y(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var kr=Dt(),pf=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=kr.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return kr.pattern.getPatternParts(t,this._micromatchOptions).map(n=>kr.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:kr.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return kr.array.splitWhen(t,r=>r.dynamic&&kr.pattern.hasGlobStar(r.pattern))}};qs.default=pf});var gf=y(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var r_=hf(),mf=class extends r_.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((c,p)=>{let m=s.segments[p];return!!(m.dynamic&&m.patternRe.test(c)||!m.dynamic&&m.pattern===c)}))return!0}return!1}};Ns.default=mf});var yf=y(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var ui=Dt(),n_=gf(),vf=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new n_.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(ui.pattern.isAffectDepthOfReadingPattern);return ui.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=ui.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===Infinity?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!ui.pattern.matchAny(t,r)}};Ms.default=vf});var bf=y($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var Dr=Dt(),_f=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Dr.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Dr.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Dr.path.makeAbsolute(this._settings.cwd,t);return Dr.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=Dr.path.removeLeadingDotSegment(t);return Dr.pattern.matchAny(n,r)}};$s.default=_f});var Sf=y(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var i_=Dt(),Rf=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return i_.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Fs.default=Rf});var Cf=y(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var wf=Dt(),Ef=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=wf.path.makeAbsolute(this._settings.cwd,r),r=wf.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Hs.default=Ef});var ci=y(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var s_=require("path"),o_=yf(),a_=bf(),u_=Sf(),c_=Cf(),xf=class{constructor(t){this._settings=t,this.errorFilter=new u_.default(this._settings),this.entryFilter=new a_.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new o_.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new c_.default(this._settings)}_getRootDirectory(t){return s_.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Is.default=xf});var Pf=y(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var l_=Ls(),f_=ci(),Tf=class extends f_.default{constructor(){super(...arguments);this._reader=new l_.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",c=>i.push(n.transform(c))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};js.default=Tf});var kf=y(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var d_=require("stream"),p_=Ls(),h_=ci(),Af=class extends h_.default{constructor(){super(...arguments);this._reader=new p_.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new d_.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Bs.default=Af});var Of=y(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var m_=nr(),g_=As(),v_=Ds(),Df=class extends v_.default{constructor(){super(...arguments);this._walkSync=g_.walkSync,this._statSync=m_.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Ws.default=Df});var qf=y(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});var y_=Of(),__=ci(),Lf=class extends __.default{constructor(){super(...arguments);this._reader=new y_.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Us.default=Lf});var Mf=y(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Lr=require("fs"),b_=require("os"),R_=Math.max(b_.cpus().length,1);Or.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Lr.lstat,lstatSync:Lr.lstatSync,stat:Lr.stat,statSync:Lr.statSync,readdir:Lr.readdir,readdirSync:Lr.readdirSync};var Nf=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,R_),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,Infinity),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Or.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Or.default=Nf});var Hf=y((rC,$f)=>{"use strict";var Ff=yl(),S_=Pf(),w_=kf(),E_=qf(),Gs=Mf(),ir=Dt();async function zs(e,t){qr(e);let r=Vs(e,S_.default,t),n=await Promise.all(r);return ir.array.flatten(n)}(function(e){function t(o,a){qr(o);let c=Vs(o,E_.default,a);return ir.array.flatten(c)}e.sync=t;function r(o,a){qr(o);let c=Vs(o,w_.default,a);return ir.stream.merge(c)}e.stream=r;function n(o,a){qr(o);let c=[].concat(o),p=new Gs.default(a);return Ff.generate(c,p)}e.generateTasks=n;function i(o,a){qr(o);let c=new Gs.default(a);return ir.pattern.isDynamicPattern(o,c)}e.isDynamicPattern=i;function s(o){return qr(o),ir.path.escape(o)}e.escapePath=s})(zs||(zs={}));function Vs(e,t,r){let n=[].concat(e),i=new Gs.default(r),s=Ff.generate(n,i),o=new t(i);return s.map(o.read,o)}function qr(e){if(![].concat(e).every(n=>ir.string.isString(n)&&!ir.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}$f.exports=zs});var Mt=y(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});var lo;function fo(){if(lo===void 0)throw new Error("No runtime abstraction layer installed");return lo}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");lo=r}e.install=t})(fo||(fo={}));co.default=fo});var po=y(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.Disposable=void 0;var N_;(function(e){function t(r){return{dispose:r}}e.create=t})(N_=mn.Disposable||(mn.Disposable={}))});var Jf=y(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.AbstractMessageBuffer=void 0;var M_=13,$_=10,F_=`\r
`,Yf=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,r=0,n=0,i=0;e:for(;r<this._chunks.length;){let c=this._chunks[r];n=0;t:for(;n<c.length;){switch(c[n]){case M_:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case $_:switch(t){case 1:t=2;break;case 3:t=4,n++;break e;default:t=0}break;default:t=0}n++}i+=c.byteLength,r++}if(t!==4)return;let s=this._read(i+n),o=new Map,a=this.toString(s,"ascii").split(F_);if(a.length<2)return o;for(let c=0;c<a.length-2;c++){let p=a[c],m=p.indexOf(":");if(m===-1)throw new Error("Message header must separate key and value using :");let g=p.substr(0,m),h=p.substr(m+1).trim();o.set(g,h)}return o}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],o=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,o}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let o=s.slice(0,t);r.set(o,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};fi.AbstractMessageBuffer=Yf});var nd=y(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});var H_=Mt(),Zf=require("util"),ur=po(),I_=Jf(),gn=class extends I_.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return gn.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new Zf.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};gn.emptyBuffer=Buffer.allocUnsafe(0);var ed=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ur.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ur.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ur.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),ur.Disposable.create(()=>this.stream.off("data",t))}},td=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ur.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ur.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ur.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o=>{o==null?n():i(o)};typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},rd=Object.freeze({messageBuffer:Object.freeze({create:e=>new gn(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Zf.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:e=>new ed(e),asWritableStream:e=>new td(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){return setTimeout(e,t,...r)},clearTimeout(e){clearTimeout(e)},setImmediate(e,...t){return setImmediate(e,...t)},clearImmediate(e){clearImmediate(e)}})});function mo(){return rd}(function(e){function t(){H_.default.install(rd)}e.install=t})(mo||(mo={}));ho.default=mo});var Ir=y(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.stringArray=We.array=We.func=We.error=We.number=We.string=We.boolean=void 0;function j_(e){return e===!0||e===!1}We.boolean=j_;function id(e){return typeof e=="string"||e instanceof String}We.string=id;function B_(e){return typeof e=="number"||e instanceof Number}We.number=B_;function W_(e){return e instanceof Error}We.error=W_;function U_(e){return typeof e=="function"}We.func=U_;function sd(e){return Array.isArray(e)}We.array=sd;function G_(e){return sd(e)&&e.every(t=>id(t))}We.stringArray=G_});var go=y(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.isResponseMessage=N.isNotificationMessage=N.isRequestMessage=N.NotificationType9=N.NotificationType8=N.NotificationType7=N.NotificationType6=N.NotificationType5=N.NotificationType4=N.NotificationType3=N.NotificationType2=N.NotificationType1=N.NotificationType0=N.NotificationType=N.RequestType9=N.RequestType8=N.RequestType7=N.RequestType6=N.RequestType5=N.RequestType4=N.RequestType3=N.RequestType2=N.RequestType1=N.RequestType=N.RequestType0=N.AbstractMessageSignature=N.ParameterStructures=N.ResponseError=N.ErrorCodes=void 0;var cr=Ir(),od;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd})(od=N.ErrorCodes||(N.ErrorCodes={}));var di=class extends Error{constructor(t,r,n){super(r);this.code=cr.number(t)?t:od.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,di.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};N.ResponseError=di;var He=class{constructor(t){this.kind=t}static is(t){return t===He.auto||t===He.byName||t===He.byPosition}toString(){return this.kind}};N.ParameterStructures=He;He.auto=new He("auto");He.byPosition=new He("byPosition");He.byName=new He("byName");var he=class{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return He.auto}};N.AbstractMessageSignature=he;var ad=class extends he{constructor(t){super(t,0)}};N.RequestType0=ad;var ud=class extends he{constructor(t,r=He.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};N.RequestType=ud;var cd=class extends he{constructor(t,r=He.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};N.RequestType1=cd;var ld=class extends he{constructor(t){super(t,2)}};N.RequestType2=ld;var fd=class extends he{constructor(t){super(t,3)}};N.RequestType3=fd;var dd=class extends he{constructor(t){super(t,4)}};N.RequestType4=dd;var pd=class extends he{constructor(t){super(t,5)}};N.RequestType5=pd;var hd=class extends he{constructor(t){super(t,6)}};N.RequestType6=hd;var md=class extends he{constructor(t){super(t,7)}};N.RequestType7=md;var gd=class extends he{constructor(t){super(t,8)}};N.RequestType8=gd;var vd=class extends he{constructor(t){super(t,9)}};N.RequestType9=vd;var yd=class extends he{constructor(t,r=He.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};N.NotificationType=yd;var _d=class extends he{constructor(t){super(t,0)}};N.NotificationType0=_d;var bd=class extends he{constructor(t,r=He.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};N.NotificationType1=bd;var Rd=class extends he{constructor(t){super(t,2)}};N.NotificationType2=Rd;var Sd=class extends he{constructor(t){super(t,3)}};N.NotificationType3=Sd;var wd=class extends he{constructor(t){super(t,4)}};N.NotificationType4=wd;var Ed=class extends he{constructor(t){super(t,5)}};N.NotificationType5=Ed;var Cd=class extends he{constructor(t){super(t,6)}};N.NotificationType6=Cd;var xd=class extends he{constructor(t){super(t,7)}};N.NotificationType7=xd;var Td=class extends he{constructor(t){super(t,8)}};N.NotificationType8=Td;var Pd=class extends he{constructor(t){super(t,9)}};N.NotificationType9=Pd;function V_(e){let t=e;return t&&cr.string(t.method)&&(cr.string(t.id)||cr.number(t.id))}N.isRequestMessage=V_;function z_(e){let t=e;return t&&cr.string(t.method)&&e.id===void 0}N.isNotificationMessage=z_;function X_(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(cr.string(t.id)||cr.number(t.id)||t.id===null)}N.isResponseMessage=X_});var jr=y(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.Emitter=lr.Event=void 0;var Q_=Mt(),K_;(function(e){let t={dispose(){}};e.None=function(){return t}})(K_=lr.Event||(lr.Event={}));var Ad=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],t))}catch(a){Q_.default().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},vn=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Ad),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,r),i.dispose=vn._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};lr.Emitter=vn;vn._noop=function(){}});var bo=y(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.CancellationTokenSource=fr.CancellationToken=void 0;var kd=Mt(),Y_=Ir(),vo=jr(),yo;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:vo.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:vo.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||Y_.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(yo=fr.CancellationToken||(fr.CancellationToken={}));var J_=Object.freeze(function(e,t){let r=kd.default().timer.setTimeout(e.bind(t),0);return{dispose(){kd.default().timer.clearTimeout(r)}}}),_o=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?J_:(this._emitter||(this._emitter=new vo.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Dd=class{get token(){return this._token||(this._token=new _o),this._token}cancel(){this._token?this._token.cancel():this._token=yo.Cancelled}dispose(){this._token?this._token instanceof _o&&this._token.dispose():this._token=yo.None}};fr.CancellationTokenSource=Dd});var Ld=y($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.ReadableStreamMessageReader=$t.AbstractMessageReader=$t.MessageReader=void 0;var pi=Mt(),Br=Ir(),Ro=jr(),Z_;(function(e){function t(r){let n=r;return n&&Br.func(n.listen)&&Br.func(n.dispose)&&Br.func(n.onError)&&Br.func(n.onClose)&&Br.func(n.onPartialMessage)}e.is=t})(Z_=$t.MessageReader||($t.MessageReader={}));var So=class{constructor(){this.errorEmitter=new Ro.Emitter,this.closeEmitter=new Ro.Emitter,this.partialMessageEmitter=new Ro.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Br.string(t.message)?t.message:"unknown"}`)}};$t.AbstractMessageReader=So;var wo;(function(e){function t(r){var n;let i,s,o,a=new Map,c,p=new Map;if(r===void 0||typeof r=="string")i=r!=null?r:"utf-8";else{if(i=(n=r.charset)!==null&&n!==void 0?n:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,a.set(o.name,o)),r.contentDecoders!==void 0)for(let m of r.contentDecoders)a.set(m.name,m);if(r.contentTypeDecoder!==void 0&&(c=r.contentTypeDecoder,p.set(c.name,c)),r.contentTypeDecoders!==void 0)for(let m of r.contentTypeDecoders)p.set(m.name,m)}return c===void 0&&(c=pi.default().applicationJson.decoder,p.set(c.name,c)),{charset:i,contentDecoder:o,contentDecoders:a,contentTypeDecoder:c,contentTypeDecoders:p}}e.fromOptions=t})(wo||(wo={}));var Od=class extends So{constructor(t,r){super();this.readable=t,this.options=wo.fromOptions(r),this.buffer=pi.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(r):n=Promise.resolve(r),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(pi.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=pi.default().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};$t.ReadableStreamMessageReader=Od});var Nd=y(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.Semaphore=void 0;var eb=Mt(),qd=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||eb.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};hi.Semaphore=qd});var Id=y(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.WriteableStreamMessageWriter=Ft.AbstractMessageWriter=Ft.MessageWriter=void 0;var Md=Mt(),yn=Ir(),tb=Nd(),$d=jr(),rb="Content-Length: ",Fd=`\r
`,nb;(function(e){function t(r){let n=r;return n&&yn.func(n.dispose)&&yn.func(n.onClose)&&yn.func(n.onError)&&yn.func(n.write)}e.is=t})(nb=Ft.MessageWriter||(Ft.MessageWriter={}));var Eo=class{constructor(){this.errorEmitter=new $d.Emitter,this.closeEmitter=new $d.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${yn.string(t.message)?t.message:"unknown"}`)}};Ft.AbstractMessageWriter=Eo;var Co;(function(e){function t(r){var n,i;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:Md.default().applicationJson.encoder}:{charset:(n=r.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!==null&&i!==void 0?i:Md.default().applicationJson.encoder}}e.fromOptions=t})(Co||(Co={}));var Hd=class extends Eo{constructor(t,r){super();this.writable=t,this.options=Co.fromOptions(r),this.errorCount=0,this.writeSemaphore=new tb.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(rb,n.byteLength.toString(),Fd),i.push(Fd),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};Ft.WriteableStreamMessageWriter=Hd});var Bd=y(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.LRUCache=Ht.LinkedMap=Ht.Touch=void 0;var Ue;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Ue=Ht.Touch||(Ht.Touch={}));var xo=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)===null||t===void 0?void 0:t.value}get last(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value}has(t){return this._map.has(t)}get(t,r=Ue.None){let n=this._map.get(t);if(!!n)return r!==Ue.None&&this.touch(n,r),n.value}set(t,r,n=Ue.None){let i=this._map.get(t);if(i)i.value=r,n!==Ue.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Ue.None:this.addItemLast(i);break;case Ue.First:this.addItemFirst(i);break;case Ue.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(!!r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Ue.First&&r!==Ue.Last)){if(r===Ue.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===Ue.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Ht.LinkedMap=xo;var jd=class extends xo{constructor(t,r=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=Ue.AsNew){return super.get(t,r)}peek(t){return super.get(t,Ue.None)}set(t,r){return super.set(t,r,Ue.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ht.LRUCache=jd});var Xd=y(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.createMessageConnection=W.ConnectionOptions=W.CancellationStrategy=W.CancellationSenderStrategy=W.CancellationReceiverStrategy=W.ConnectionStrategy=W.ConnectionError=W.ConnectionErrors=W.LogTraceNotification=W.SetTraceNotification=W.TraceFormat=W.Trace=W.NullLogger=W.ProgressType=void 0;var Wd=Mt(),Ne=Ir(),I=go(),Ud=Bd(),_n=jr(),To=bo(),bn;(function(e){e.type=new I.NotificationType("$/cancelRequest")})(bn||(bn={}));var mi;(function(e){e.type=new I.NotificationType("$/progress")})(mi||(mi={}));var Gd=class{constructor(){}};W.ProgressType=Gd;var Po;(function(e){function t(r){return Ne.func(r)}e.is=t})(Po||(Po={}));W.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ee;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(Ee=W.Trace||(W.Trace={}));(function(e){function t(n){if(!Ne.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Ee=W.Trace||(W.Trace={}));var ut;(function(e){e.Text="text",e.JSON="json"})(ut=W.TraceFormat||(W.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(ut=W.TraceFormat||(W.TraceFormat={}));var Vd;(function(e){e.type=new I.NotificationType("$/setTrace")})(Vd=W.SetTraceNotification||(W.SetTraceNotification={}));var Ao;(function(e){e.type=new I.NotificationType("$/logTrace")})(Ao=W.LogTraceNotification||(W.LogTraceNotification={}));var gi;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(gi=W.ConnectionErrors||(W.ConnectionErrors={}));var dr=class extends Error{constructor(t,r){super(r);this.code=t,Object.setPrototypeOf(this,dr.prototype)}};W.ConnectionError=dr;var zd;(function(e){function t(r){let n=r;return n&&Ne.func(n.cancelUndispatched)}e.is=t})(zd=W.ConnectionStrategy||(W.ConnectionStrategy={}));var ko;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new To.CancellationTokenSource}});function t(r){let n=r;return n&&Ne.func(n.createCancellationTokenSource)}e.is=t})(ko=W.CancellationReceiverStrategy||(W.CancellationReceiverStrategy={}));var Do;(function(e){e.Message=Object.freeze({sendCancellation(r,n){r.sendNotification(bn.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Ne.func(n.sendCancellation)&&Ne.func(n.cleanup)}e.is=t})(Do=W.CancellationSenderStrategy||(W.CancellationSenderStrategy={}));var Oo;(function(e){e.Message=Object.freeze({receiver:ko.Message,sender:Do.Message});function t(r){let n=r;return n&&ko.is(n.receiver)&&Do.is(n.sender)}e.is=t})(Oo=W.CancellationStrategy||(W.CancellationStrategy={}));var ib;(function(e){function t(r){let n=r;return n&&(Oo.is(n.cancellationStrategy)||zd.is(n.connectionStrategy))}e.is=t})(ib=W.ConnectionOptions||(W.ConnectionOptions={}));var ct;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(ct||(ct={}));function sb(e,t,r,n){let i=r!==void 0?r:W.NullLogger,s=0,o=0,a=0,c="2.0",p,m=Object.create(null),g,h=Object.create(null),R=new Map,C,x=new Ud.LinkedMap,O=Object.create(null),$=Object.create(null),D=Ee.Off,q=ut.Text,P,ue=ct.New,De=new _n.Emitter,M=new _n.Emitter,G=new _n.Emitter,me=new _n.Emitter,xe=new _n.Emitter,f=n&&n.cancellationStrategy?n.cancellationStrategy:Oo.Message;function B(d){if(d===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+d.toString()}function Te(d){return d===null?"res-unknown-"+(++a).toString():"res-"+d.toString()}function b(){return"not-"+(++o).toString()}function l(d,w){I.isRequestMessage(w)?d.set(B(w.id),w):I.isResponseMessage(w)?d.set(Te(w.id),w):d.set(b(),w)}function _(d){}function U(){return ue===ct.Listening}function re(){return ue===ct.Closed}function ge(){return ue===ct.Disposed}function Oe(){(ue===ct.New||ue===ct.Listening)&&(ue=ct.Closed,M.fire(void 0))}function Pe(d){De.fire([d,void 0,void 0])}function z(d){De.fire(d)}e.onClose(Oe),e.onError(Pe),t.onClose(Oe),t.onError(z);function Tt(){C||x.size===0||(C=Wd.default().timer.setImmediate(()=>{C=void 0,Ut()}))}function Ut(){if(x.size===0)return;let d=x.shift();try{I.isRequestMessage(d)?S(d):I.isNotificationMessage(d)?ve(d):I.isResponseMessage(d)?H(d):A(d)}finally{Tt()}}let L=d=>{try{if(I.isNotificationMessage(d)&&d.method===bn.type.method){let w=B(d.params.id),k=x.get(w);if(I.isRequestMessage(k)){let F=n==null?void 0:n.connectionStrategy,ee=F&&F.cancelUndispatched?F.cancelUndispatched(k,_):_(k);if(ee&&(ee.error!==void 0||ee.result!==void 0)){x.delete(w),ee.id=k.id,V(ee,d.method,Date.now()),t.write(ee);return}}}l(x,d)}finally{Tt()}};function S(d){if(ge())return;function w(ne,be,ie){let ke={jsonrpc:c,id:d.id};ne instanceof I.ResponseError?ke.error=ne.toJson():ke.result=ne===void 0?null:ne,V(ke,be,ie),t.write(ke)}function k(ne,be,ie){let ke={jsonrpc:c,id:d.id,error:ne.toJson()};V(ke,be,ie),t.write(ke)}function F(ne,be,ie){ne===void 0&&(ne=null);let ke={jsonrpc:c,id:d.id,result:ne};V(ke,be,ie),t.write(ke)}ae(d);let ee=m[d.method],_e,Ae;ee&&(_e=ee.type,Ae=ee.handler);let Le=Date.now();if(Ae||p){let ne=String(d.id),be=f.receiver.createCancellationTokenSource(ne);$[ne]=be;try{let ie;if(Ae)if(d.params===void 0){if(_e!==void 0&&_e.numberOfParams!==0){k(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${d.method} defines ${_e.numberOfParams} params but recevied none.`),d.method,Le);return}ie=Ae(be.token)}else if(Array.isArray(d.params)){if(_e!==void 0&&_e.parameterStructures===I.ParameterStructures.byName){k(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by name but received parameters by position`),d.method,Le);return}ie=Ae(...d.params,be.token)}else{if(_e!==void 0&&_e.parameterStructures===I.ParameterStructures.byPosition){k(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by position but received parameters by name`),d.method,Le);return}ie=Ae(d.params,be.token)}else p&&(ie=p(d.method,d.params,be.token));let ke=ie;ie?ke.then?ke.then(ze=>{delete $[ne],w(ze,d.method,Le)},ze=>{delete $[ne],ze instanceof I.ResponseError?k(ze,d.method,Le):ze&&Ne.string(ze.message)?k(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${ze.message}`),d.method,Le):k(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,Le)}):(delete $[ne],w(ie,d.method,Le)):(delete $[ne],F(ie,d.method,Le))}catch(ie){delete $[ne],ie instanceof I.ResponseError?w(ie,d.method,Le):ie&&Ne.string(ie.message)?k(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${ie.message}`),d.method,Le):k(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,Le)}}else k(new I.ResponseError(I.ErrorCodes.MethodNotFound,`Unhandled method ${d.method}`),d.method,Le)}function H(d){if(!ge())if(d.id===null)d.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(d.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let w=String(d.id),k=O[w];if(Se(d,k),k){delete O[w];try{if(d.error){let F=d.error;k.reject(new I.ResponseError(F.code,F.message,F.data))}else if(d.result!==void 0)k.resolve(d.result);else throw new Error("Should never happen.")}catch(F){F.message?i.error(`Response handler '${k.method}' failed with message: ${F.message}`):i.error(`Response handler '${k.method}' failed unexpectedly.`)}}}}function ve(d){if(ge())return;let w,k;if(d.method===bn.type.method)k=F=>{let ee=F.id,_e=$[String(ee)];_e&&_e.cancel()};else{let F=h[d.method];F&&(k=F.handler,w=F.type)}if(k||g)try{Fe(d),k?d.params===void 0?(w!==void 0&&w.numberOfParams!==0&&w.parameterStructures!==I.ParameterStructures.byName&&i.error(`Notification ${d.method} defines ${w.numberOfParams} params but recevied none.`),k()):Array.isArray(d.params)?(w!==void 0&&(w.parameterStructures===I.ParameterStructures.byName&&i.error(`Notification ${d.method} defines parameters by name but received parameters by position`),w.numberOfParams!==d.params.length&&i.error(`Notification ${d.method} defines ${w.numberOfParams} params but received ${d.params.length} argumennts`)),k(...d.params)):(w!==void 0&&w.parameterStructures===I.ParameterStructures.byPosition&&i.error(`Notification ${d.method} defines parameters by position but received parameters by name`),k(d.params)):g&&g(d.method,d.params)}catch(F){F.message?i.error(`Notification handler '${d.method}' failed with message: ${F.message}`):i.error(`Notification handler '${d.method}' failed unexpectedly.`)}else G.fire(d)}function A(d){if(!d){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(d,null,4)}`);let w=d;if(Ne.string(w.id)||Ne.number(w.id)){let k=String(w.id),F=O[k];F&&F.reject(new Error("The received response has neither a result nor an error property."))}}function Q(d){if(!(D===Ee.Off||!P))if(q===ut.Text){let w;D===Ee.Verbose&&d.params&&(w=`Params: ${JSON.stringify(d.params,null,4)}

`),P.log(`Sending request '${d.method} - (${d.id})'.`,w)}else gt("send-request",d)}function T(d){if(!(D===Ee.Off||!P))if(q===ut.Text){let w;D===Ee.Verbose&&(d.params?w=`Params: ${JSON.stringify(d.params,null,4)}

`:w=`No parameters provided.

`),P.log(`Sending notification '${d.method}'.`,w)}else gt("send-notification",d)}function V(d,w,k){if(!(D===Ee.Off||!P))if(q===ut.Text){let F;D===Ee.Verbose&&(d.error&&d.error.data?F=`Error data: ${JSON.stringify(d.error.data,null,4)}

`:d.result?F=`Result: ${JSON.stringify(d.result,null,4)}

`:d.error===void 0&&(F=`No result returned.

`)),P.log(`Sending response '${w} - (${d.id})'. Processing request took ${Date.now()-k}ms`,F)}else gt("send-response",d)}function ae(d){if(!(D===Ee.Off||!P))if(q===ut.Text){let w;D===Ee.Verbose&&d.params&&(w=`Params: ${JSON.stringify(d.params,null,4)}

`),P.log(`Received request '${d.method} - (${d.id})'.`,w)}else gt("receive-request",d)}function Fe(d){if(!(D===Ee.Off||!P||d.method===Ao.type.method))if(q===ut.Text){let w;D===Ee.Verbose&&(d.params?w=`Params: ${JSON.stringify(d.params,null,4)}

`:w=`No parameters provided.

`),P.log(`Received notification '${d.method}'.`,w)}else gt("receive-notification",d)}function Se(d,w){if(!(D===Ee.Off||!P))if(q===ut.Text){let k;if(D===Ee.Verbose&&(d.error&&d.error.data?k=`Error data: ${JSON.stringify(d.error.data,null,4)}

`:d.result?k=`Result: ${JSON.stringify(d.result,null,4)}

`:d.error===void 0&&(k=`No result returned.

`)),w){let F=d.error?` Request failed: ${d.error.message} (${d.error.code}).`:"";P.log(`Received response '${w.method} - (${d.id})' in ${Date.now()-w.timerStart}ms.${F}`,k)}else P.log(`Received response ${d.id} without active response promise.`,k)}else gt("receive-response",d)}function gt(d,w){if(!P||D===Ee.Off)return;let k={isLSPMessage:!0,type:d,message:w,timestamp:Date.now()};P.log(k)}function vt(){if(re())throw new dr(gi.Closed,"Connection is closed.");if(ge())throw new dr(gi.Disposed,"Connection is disposed.")}function Lh(){if(U())throw new dr(gi.AlreadyListening,"Connection is already listening")}function qh(){if(!U())throw new Error("Call listen() first.")}function rn(d){return d===void 0?null:d}function $a(d){if(d!==null)return d}function Fa(d){return d!=null&&!Array.isArray(d)&&typeof d=="object"}function Ai(d,w){switch(d){case I.ParameterStructures.auto:return Fa(w)?$a(w):[rn(w)];case I.ParameterStructures.byName:if(!Fa(w))throw new Error("Recevied parameters by name but param is not an object literal.");return $a(w);case I.ParameterStructures.byPosition:return[rn(w)];default:throw new Error(`Unknown parameter structure ${d.toString()}`)}}function Ha(d,w){let k,F=d.numberOfParams;switch(F){case 0:k=void 0;break;case 1:k=Ai(d.parameterStructures,w[0]);break;default:k=[];for(let ee=0;ee<w.length&&ee<F;ee++)k.push(rn(w[ee]));if(w.length<F)for(let ee=w.length;ee<F;ee++)k.push(null);break}return k}let gr={sendNotification:(d,...w)=>{vt();let k,F;if(Ne.string(d)){k=d;let _e=w[0],Ae=0,Le=I.ParameterStructures.auto;I.ParameterStructures.is(_e)&&(Ae=1,Le=_e);let ne=w.length,be=ne-Ae;switch(be){case 0:F=void 0;break;case 1:F=Ai(Le,w[Ae]);break;default:if(Le===I.ParameterStructures.byName)throw new Error(`Recevied ${be} parameters for 'by Name' notification parameter structure.`);F=w.slice(Ae,ne).map(ie=>rn(ie));break}}else{let _e=w;k=d.method,F=Ha(d,_e)}let ee={jsonrpc:c,method:k,params:F};T(ee),t.write(ee)},onNotification:(d,w)=>{vt();let k;return Ne.func(d)?g=d:w&&(Ne.string(d)?(k=d,h[d]={type:void 0,handler:w}):(k=d.method,h[d.method]={type:d,handler:w})),{dispose:()=>{k!==void 0?delete h[k]:g=void 0}}},onProgress:(d,w,k)=>{if(R.has(w))throw new Error(`Progress handler for token ${w} already registered`);return R.set(w,k),{dispose:()=>{R.delete(w)}}},sendProgress:(d,w,k)=>{gr.sendNotification(mi.type,{token:w,value:k})},onUnhandledProgress:me.event,sendRequest:(d,...w)=>{vt(),qh();let k,F,ee;if(Ne.string(d)){k=d;let ne=w[0],be=w[w.length-1],ie=0,ke=I.ParameterStructures.auto;I.ParameterStructures.is(ne)&&(ie=1,ke=ne);let ze=w.length;To.CancellationToken.is(be)&&(ze=ze-1,ee=be);let Zt=ze-ie;switch(Zt){case 0:F=void 0;break;case 1:F=Ai(ke,w[ie]);break;default:if(ke===I.ParameterStructures.byName)throw new Error(`Recevied ${Zt} parameters for 'by Name' request parameter structure.`);F=w.slice(ie,ze).map(Gt=>rn(Gt));break}}else{let ne=w;k=d.method,F=Ha(d,ne);let be=d.numberOfParams;ee=To.CancellationToken.is(ne[be])?ne[be]:void 0}let _e=s++,Ae;return ee&&(Ae=ee.onCancellationRequested(()=>{f.sender.sendCancellation(gr,_e)})),new Promise((ne,be)=>{let ie={jsonrpc:c,id:_e,method:k,params:F},ke=Gt=>{ne(Gt),f.sender.cleanup(_e),Ae==null||Ae.dispose()},ze=Gt=>{be(Gt),f.sender.cleanup(_e),Ae==null||Ae.dispose()},Zt={method:k,timerStart:Date.now(),resolve:ke,reject:ze};Q(ie);try{t.write(ie)}catch(Gt){Zt.reject(new I.ResponseError(I.ErrorCodes.MessageWriteError,Gt.message?Gt.message:"Unknown reason")),Zt=null}Zt&&(O[String(_e)]=Zt)})},onRequest:(d,w)=>{vt();let k=null;return Po.is(d)?(k=void 0,p=d):Ne.string(d)?(k=null,w!==void 0&&(k=d,m[d]={handler:w,type:void 0})):w!==void 0&&(k=d.method,m[d.method]={type:d,handler:w}),{dispose:()=>{k!==null&&(k!==void 0?delete m[k]:p=void 0)}}},trace:(d,w,k)=>{let F=!1,ee=ut.Text;k!==void 0&&(Ne.boolean(k)?F=k:(F=k.sendNotification||!1,ee=k.traceFormat||ut.Text)),D=d,q=ee,D===Ee.Off?P=void 0:P=w,F&&!re()&&!ge()&&gr.sendNotification(Vd.type,{value:Ee.toString(d)})},onError:De.event,onClose:M.event,onUnhandledNotification:G.event,onDispose:xe.event,end:()=>{t.end()},dispose:()=>{if(ge())return;ue=ct.Disposed,xe.fire(void 0);let d=new Error("Connection got disposed.");Object.keys(O).forEach(w=>{O[w].reject(d)}),O=Object.create(null),$=Object.create(null),x=new Ud.LinkedMap,Ne.func(t.dispose)&&t.dispose(),Ne.func(e.dispose)&&e.dispose()},listen:()=>{vt(),Lh(),ue=ct.Listening,e.listen(L)},inspect:()=>{Wd.default().console.log("inspect")}};return gr.onNotification(Ao.type,d=>{D===Ee.Off||!P||P.log(d.message,D===Ee.Verbose?d.verbose:void 0)}),gr.onNotification(mi.type,d=>{let w=R.get(d.token);w?w(d.value):me.fire(d)}),gr}W.createMessageConnection=sb});var No=y(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.CancellationSenderStrategy=E.CancellationReceiverStrategy=E.ConnectionError=E.ConnectionErrors=E.LogTraceNotification=E.SetTraceNotification=E.TraceFormat=E.Trace=E.ProgressType=E.createMessageConnection=E.NullLogger=E.ConnectionOptions=E.ConnectionStrategy=E.WriteableStreamMessageWriter=E.AbstractMessageWriter=E.MessageWriter=E.ReadableStreamMessageReader=E.AbstractMessageReader=E.MessageReader=E.CancellationToken=E.CancellationTokenSource=E.Emitter=E.Event=E.Disposable=E.ParameterStructures=E.NotificationType9=E.NotificationType8=E.NotificationType7=E.NotificationType6=E.NotificationType5=E.NotificationType4=E.NotificationType3=E.NotificationType2=E.NotificationType1=E.NotificationType0=E.NotificationType=E.ErrorCodes=E.ResponseError=E.RequestType9=E.RequestType8=E.RequestType7=E.RequestType6=E.RequestType5=E.RequestType4=E.RequestType3=E.RequestType2=E.RequestType1=E.RequestType0=E.RequestType=E.RAL=void 0;E.CancellationStrategy=void 0;var fe=go();Object.defineProperty(E,"RequestType",{enumerable:!0,get:function(){return fe.RequestType}});Object.defineProperty(E,"RequestType0",{enumerable:!0,get:function(){return fe.RequestType0}});Object.defineProperty(E,"RequestType1",{enumerable:!0,get:function(){return fe.RequestType1}});Object.defineProperty(E,"RequestType2",{enumerable:!0,get:function(){return fe.RequestType2}});Object.defineProperty(E,"RequestType3",{enumerable:!0,get:function(){return fe.RequestType3}});Object.defineProperty(E,"RequestType4",{enumerable:!0,get:function(){return fe.RequestType4}});Object.defineProperty(E,"RequestType5",{enumerable:!0,get:function(){return fe.RequestType5}});Object.defineProperty(E,"RequestType6",{enumerable:!0,get:function(){return fe.RequestType6}});Object.defineProperty(E,"RequestType7",{enumerable:!0,get:function(){return fe.RequestType7}});Object.defineProperty(E,"RequestType8",{enumerable:!0,get:function(){return fe.RequestType8}});Object.defineProperty(E,"RequestType9",{enumerable:!0,get:function(){return fe.RequestType9}});Object.defineProperty(E,"ResponseError",{enumerable:!0,get:function(){return fe.ResponseError}});Object.defineProperty(E,"ErrorCodes",{enumerable:!0,get:function(){return fe.ErrorCodes}});Object.defineProperty(E,"NotificationType",{enumerable:!0,get:function(){return fe.NotificationType}});Object.defineProperty(E,"NotificationType0",{enumerable:!0,get:function(){return fe.NotificationType0}});Object.defineProperty(E,"NotificationType1",{enumerable:!0,get:function(){return fe.NotificationType1}});Object.defineProperty(E,"NotificationType2",{enumerable:!0,get:function(){return fe.NotificationType2}});Object.defineProperty(E,"NotificationType3",{enumerable:!0,get:function(){return fe.NotificationType3}});Object.defineProperty(E,"NotificationType4",{enumerable:!0,get:function(){return fe.NotificationType4}});Object.defineProperty(E,"NotificationType5",{enumerable:!0,get:function(){return fe.NotificationType5}});Object.defineProperty(E,"NotificationType6",{enumerable:!0,get:function(){return fe.NotificationType6}});Object.defineProperty(E,"NotificationType7",{enumerable:!0,get:function(){return fe.NotificationType7}});Object.defineProperty(E,"NotificationType8",{enumerable:!0,get:function(){return fe.NotificationType8}});Object.defineProperty(E,"NotificationType9",{enumerable:!0,get:function(){return fe.NotificationType9}});Object.defineProperty(E,"ParameterStructures",{enumerable:!0,get:function(){return fe.ParameterStructures}});var ob=po();Object.defineProperty(E,"Disposable",{enumerable:!0,get:function(){return ob.Disposable}});var Qd=jr();Object.defineProperty(E,"Event",{enumerable:!0,get:function(){return Qd.Event}});Object.defineProperty(E,"Emitter",{enumerable:!0,get:function(){return Qd.Emitter}});var Kd=bo();Object.defineProperty(E,"CancellationTokenSource",{enumerable:!0,get:function(){return Kd.CancellationTokenSource}});Object.defineProperty(E,"CancellationToken",{enumerable:!0,get:function(){return Kd.CancellationToken}});var Lo=Ld();Object.defineProperty(E,"MessageReader",{enumerable:!0,get:function(){return Lo.MessageReader}});Object.defineProperty(E,"AbstractMessageReader",{enumerable:!0,get:function(){return Lo.AbstractMessageReader}});Object.defineProperty(E,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Lo.ReadableStreamMessageReader}});var qo=Id();Object.defineProperty(E,"MessageWriter",{enumerable:!0,get:function(){return qo.MessageWriter}});Object.defineProperty(E,"AbstractMessageWriter",{enumerable:!0,get:function(){return qo.AbstractMessageWriter}});Object.defineProperty(E,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return qo.WriteableStreamMessageWriter}});var Qe=Xd();Object.defineProperty(E,"ConnectionStrategy",{enumerable:!0,get:function(){return Qe.ConnectionStrategy}});Object.defineProperty(E,"ConnectionOptions",{enumerable:!0,get:function(){return Qe.ConnectionOptions}});Object.defineProperty(E,"NullLogger",{enumerable:!0,get:function(){return Qe.NullLogger}});Object.defineProperty(E,"createMessageConnection",{enumerable:!0,get:function(){return Qe.createMessageConnection}});Object.defineProperty(E,"ProgressType",{enumerable:!0,get:function(){return Qe.ProgressType}});Object.defineProperty(E,"Trace",{enumerable:!0,get:function(){return Qe.Trace}});Object.defineProperty(E,"TraceFormat",{enumerable:!0,get:function(){return Qe.TraceFormat}});Object.defineProperty(E,"SetTraceNotification",{enumerable:!0,get:function(){return Qe.SetTraceNotification}});Object.defineProperty(E,"LogTraceNotification",{enumerable:!0,get:function(){return Qe.LogTraceNotification}});Object.defineProperty(E,"ConnectionErrors",{enumerable:!0,get:function(){return Qe.ConnectionErrors}});Object.defineProperty(E,"ConnectionError",{enumerable:!0,get:function(){return Qe.ConnectionError}});Object.defineProperty(E,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qe.CancellationReceiverStrategy}});Object.defineProperty(E,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qe.CancellationSenderStrategy}});Object.defineProperty(E,"CancellationStrategy",{enumerable:!0,get:function(){return Qe.CancellationStrategy}});var ab=Mt();E.RAL=ab.default});var Vr=y(te=>{"use strict";var ub=te&&te.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cb=te&&te.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ub(t,e,r)};Object.defineProperty(te,"__esModule",{value:!0});te.createMessageConnection=te.createServerSocketTransport=te.createClientSocketTransport=te.createServerPipeTransport=te.createClientPipeTransport=te.generateRandomPipeName=te.StreamMessageWriter=te.StreamMessageReader=te.SocketMessageWriter=te.SocketMessageReader=te.IPCMessageWriter=te.IPCMessageReader=void 0;var Wr=nd();Wr.default.install();var Ct=No(),Yd=require("path"),lb=require("os"),fb=require("crypto"),vi=require("net");cb(No(),te);var Jd=class extends Ct.AbstractMessageReader{constructor(t){super();this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ct.Disposable.create(()=>this.process.off("message",t))}};te.IPCMessageReader=Jd;var Zd=class extends Ct.AbstractMessageWriter{constructor(t){super();this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};te.IPCMessageWriter=Zd;var Ur=class extends Ct.ReadableStreamMessageReader{constructor(t,r="utf-8"){super(Wr.default().stream.asReadableStream(t),r)}};te.SocketMessageReader=Ur;var Gr=class extends Ct.WriteableStreamMessageWriter{constructor(t,r){super(Wr.default().stream.asWritableStream(t),r);this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};te.SocketMessageWriter=Gr;var Mo=class extends Ct.ReadableStreamMessageReader{constructor(t,r){super(Wr.default().stream.asReadableStream(t),r)}};te.StreamMessageReader=Mo;var $o=class extends Ct.WriteableStreamMessageWriter{constructor(t,r){super(Wr.default().stream.asWritableStream(t),r)}};te.StreamMessageWriter=$o;var ep=process.env.XDG_RUNTIME_DIR,db=new Map([["linux",107],["darwin",103]]);function pb(){let e=fb.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;ep?t=Yd.join(ep,`vscode-ipc-${e}.sock`):t=Yd.join(lb.tmpdir(),`vscode-${e}.sock`);let r=db.get(process.platform);return r!==void 0&&t.length>=r&&Wr.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}te.generateRandomPipeName=pb;function hb(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=vi.createServer(a=>{o.close(),r([new Ur(a,t),new Gr(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}te.createClientPipeTransport=hb;function mb(e,t="utf-8"){let r=vi.createConnection(e);return[new Ur(r,t),new Gr(r,t)]}te.createServerPipeTransport=mb;function gb(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=vi.createServer(a=>{o.close(),r([new Ur(a,t),new Gr(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}te.createClientSocketTransport=gb;function vb(e,t="utf-8"){let r=vi.createConnection(e,"127.0.0.1");return[new Ur(r,t),new Gr(r,t)]}te.createServerSocketTransport=vb;function yb(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function _b(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function bb(e,t,r,n){r||(r=Ct.NullLogger);let i=yb(e)?new Mo(e):e,s=_b(t)?new $o(t):t;return Ct.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),Ct.createMessageConnection(i,s,r,n)}te.createMessageConnection=bb});var Fo=y((Cx,tp)=>{"use strict";tp.exports=Vr()});var np=y(Rb=>{ki(Rb);Ia(Rb,{AnnotatedTextEdit:()=>jt,ChangeAnnotation:()=>pr,ChangeAnnotationIdentifier:()=>Ie,CodeAction:()=>ma,CodeActionContext:()=>ha,CodeActionKind:()=>pa,CodeDescription:()=>zo,CodeLens:()=>ga,Color:()=>_i,ColorInformation:()=>jo,ColorPresentation:()=>Bo,Command:()=>zr,CompletionItem:()=>ra,CompletionItemKind:()=>Yo,CompletionItemTag:()=>Zo,CompletionList:()=>na,CreateFile:()=>Xr,DeleteFile:()=>Kr,Diagnostic:()=>Sn,DiagnosticRelatedInformation:()=>bi,DiagnosticSeverity:()=>Go,DiagnosticTag:()=>Vo,DocumentHighlight:()=>ua,DocumentHighlightKind:()=>aa,DocumentLink:()=>ya,DocumentSymbol:()=>da,EOL:()=>wb,FoldingRange:()=>Uo,FoldingRangeKind:()=>Wo,FormattingOptions:()=>va,Hover:()=>ia,InsertReplaceEdit:()=>ea,InsertTextFormat:()=>Jo,InsertTextMode:()=>ta,Location:()=>yi,LocationLink:()=>Io,MarkedString:()=>Cn,MarkupContent:()=>wi,MarkupKind:()=>Yr,OptionalVersionedTextDocumentIdentifier:()=>En,ParameterInformation:()=>sa,Position:()=>lt,Range:()=>Me,RenameFile:()=>Qr,SelectionRange:()=>_a,SignatureInformation:()=>oa,SymbolInformation:()=>fa,SymbolKind:()=>ca,SymbolTag:()=>la,TextDocument:()=>ba,TextDocumentEdit:()=>wn,TextDocumentIdentifier:()=>Xo,TextDocumentItem:()=>Ko,TextEdit:()=>It,VersionedTextDocumentIdentifier:()=>Qo,WorkspaceChange:()=>Sb,WorkspaceEdit:()=>Ri,integer:()=>Ho,uinteger:()=>Rn});"use strict";var Ho;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647})(Ho||(Ho={}));var Rn;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647})(Rn||(Rn={}));var lt;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=Rn.MAX_VALUE),i===Number.MAX_VALUE&&(i=Rn.MAX_VALUE),{line:n,character:i}}e.create=t;function r(n){var i=n;return v.objectLiteral(i)&&v.uinteger(i.line)&&v.uinteger(i.character)}e.is=r})(lt||(lt={}));var Me;(function(e){function t(n,i,s,o){if(v.uinteger(n)&&v.uinteger(i)&&v.uinteger(s)&&v.uinteger(o))return{start:lt.create(n,i),end:lt.create(s,o)};if(lt.is(n)&&lt.is(i))return{start:n,end:i};throw new Error("Range#create called with invalid arguments["+n+", "+i+", "+s+", "+o+"]")}e.create=t;function r(n){var i=n;return v.objectLiteral(i)&&lt.is(i.start)&&lt.is(i.end)}e.is=r})(Me||(Me={}));var yi;(function(e){function t(n,i){return{uri:n,range:i}}e.create=t;function r(n){var i=n;return v.defined(i)&&Me.is(i.range)&&(v.string(i.uri)||v.undefined(i.uri))}e.is=r})(yi||(yi={}));var Io;(function(e){function t(n,i,s,o){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}e.create=t;function r(n){var i=n;return v.defined(i)&&Me.is(i.targetRange)&&v.string(i.targetUri)&&(Me.is(i.targetSelectionRange)||v.undefined(i.targetSelectionRange))&&(Me.is(i.originSelectionRange)||v.undefined(i.originSelectionRange))}e.is=r})(Io||(Io={}));var _i;(function(e){function t(n,i,s,o){return{red:n,green:i,blue:s,alpha:o}}e.create=t;function r(n){var i=n;return v.numberRange(i.red,0,1)&&v.numberRange(i.green,0,1)&&v.numberRange(i.blue,0,1)&&v.numberRange(i.alpha,0,1)}e.is=r})(_i||(_i={}));var jo;(function(e){function t(n,i){return{range:n,color:i}}e.create=t;function r(n){var i=n;return Me.is(i.range)&&_i.is(i.color)}e.is=r})(jo||(jo={}));var Bo;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}e.create=t;function r(n){var i=n;return v.string(i.label)&&(v.undefined(i.textEdit)||It.is(i))&&(v.undefined(i.additionalTextEdits)||v.typedArray(i.additionalTextEdits,It.is))}e.is=r})(Bo||(Bo={}));var Wo;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Wo||(Wo={}));var Uo;(function(e){function t(n,i,s,o,a){var c={startLine:n,endLine:i};return v.defined(s)&&(c.startCharacter=s),v.defined(o)&&(c.endCharacter=o),v.defined(a)&&(c.kind=a),c}e.create=t;function r(n){var i=n;return v.uinteger(i.startLine)&&v.uinteger(i.startLine)&&(v.undefined(i.startCharacter)||v.uinteger(i.startCharacter))&&(v.undefined(i.endCharacter)||v.uinteger(i.endCharacter))&&(v.undefined(i.kind)||v.string(i.kind))}e.is=r})(Uo||(Uo={}));var bi;(function(e){function t(n,i){return{location:n,message:i}}e.create=t;function r(n){var i=n;return v.defined(i)&&yi.is(i.location)&&v.string(i.message)}e.is=r})(bi||(bi={}));var Go;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Go||(Go={}));var Vo;(function(e){e.Unnecessary=1,e.Deprecated=2})(Vo||(Vo={}));var zo;(function(e){function t(r){var n=r;return n!=null&&v.string(n.href)}e.is=t})(zo||(zo={}));var Sn;(function(e){function t(n,i,s,o,a,c){var p={range:n,message:i};return v.defined(s)&&(p.severity=s),v.defined(o)&&(p.code=o),v.defined(a)&&(p.source=a),v.defined(c)&&(p.relatedInformation=c),p}e.create=t;function r(n){var i,s=n;return v.defined(s)&&Me.is(s.range)&&v.string(s.message)&&(v.number(s.severity)||v.undefined(s.severity))&&(v.integer(s.code)||v.string(s.code)||v.undefined(s.code))&&(v.undefined(s.codeDescription)||v.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(v.string(s.source)||v.undefined(s.source))&&(v.undefined(s.relatedInformation)||v.typedArray(s.relatedInformation,bi.is))}e.is=r})(Sn||(Sn={}));var zr;(function(e){function t(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a={title:n,command:i};return v.defined(s)&&s.length>0&&(a.arguments=s),a}e.create=t;function r(n){var i=n;return v.defined(i)&&v.string(i.title)&&v.string(i.command)}e.is=r})(zr||(zr={}));var It;(function(e){function t(s,o){return{range:s,newText:o}}e.replace=t;function r(s,o){return{range:{start:s,end:s},newText:o}}e.insert=r;function n(s){return{range:s,newText:""}}e.del=n;function i(s){var o=s;return v.objectLiteral(o)&&v.string(o.newText)&&Me.is(o.range)}e.is=i})(It||(It={}));var pr;(function(e){function t(n,i,s){var o={label:n};return i!==void 0&&(o.needsConfirmation=i),s!==void 0&&(o.description=s),o}e.create=t;function r(n){var i=n;return i!==void 0&&v.objectLiteral(i)&&v.string(i.label)&&(v.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(v.string(i.description)||i.description===void 0)}e.is=r})(pr||(pr={}));var Ie;(function(e){function t(r){var n=r;return typeof n=="string"}e.is=t})(Ie||(Ie={}));var jt;(function(e){function t(s,o,a){return{range:s,newText:o,annotationId:a}}e.replace=t;function r(s,o,a){return{range:{start:s,end:s},newText:o,annotationId:a}}e.insert=r;function n(s,o){return{range:s,newText:"",annotationId:o}}e.del=n;function i(s){var o=s;return It.is(o)&&(pr.is(o.annotationId)||Ie.is(o.annotationId))}e.is=i})(jt||(jt={}));var wn;(function(e){function t(n,i){return{textDocument:n,edits:i}}e.create=t;function r(n){var i=n;return v.defined(i)&&En.is(i.textDocument)&&Array.isArray(i.edits)}e.is=r})(wn||(wn={}));var Xr;(function(e){function t(n,i,s){var o={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}e.create=t;function r(n){var i=n;return i&&i.kind==="create"&&v.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||v.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||v.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Ie.is(i.annotationId))}e.is=r})(Xr||(Xr={}));var Qr;(function(e){function t(n,i,s,o){var a={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),o!==void 0&&(a.annotationId=o),a}e.create=t;function r(n){var i=n;return i&&i.kind==="rename"&&v.string(i.oldUri)&&v.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||v.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||v.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Ie.is(i.annotationId))}e.is=r})(Qr||(Qr={}));var Kr;(function(e){function t(n,i,s){var o={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}e.create=t;function r(n){var i=n;return i&&i.kind==="delete"&&v.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||v.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||v.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Ie.is(i.annotationId))}e.is=r})(Kr||(Kr={}));var Ri;(function(e){function t(r){var n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(i){return v.string(i.kind)?Xr.is(i)||Qr.is(i)||Kr.is(i):wn.is(i)}))}e.is=t})(Ri||(Ri={}));var Si=function(){function e(t,r){this.edits=t,this.changeAnnotations=r}return e.prototype.insert=function(t,r,n){var i,s;if(n===void 0?i=It.insert(t,r):Ie.is(n)?(s=n,i=jt.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=jt.insert(t,r,s)),this.edits.push(i),s!==void 0)return s},e.prototype.replace=function(t,r,n){var i,s;if(n===void 0?i=It.replace(t,r):Ie.is(n)?(s=n,i=jt.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=jt.replace(t,r,s)),this.edits.push(i),s!==void 0)return s},e.prototype.delete=function(t,r){var n,i;if(r===void 0?n=It.del(t):Ie.is(r)?(i=r,n=jt.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=jt.del(t,i)),this.edits.push(n),i!==void 0)return i},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),rp=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,r){var n;if(Ie.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error("Id "+n+" is already in use.");if(r===void 0)throw new Error("No annotation provided for id "+n);return this._annotations[n]=r,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),Sb=function(){function e(t){var r=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new rp(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(n){if(wn.is(n)){var i=new Si(n.edits,r._changeAnnotations);r._textEditChanges[n.textDocument.uri]=i}})):t.changes&&Object.keys(t.changes).forEach(function(n){var i=new Si(t.changes[n]);r._textEditChanges[n]=i})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(En.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){var i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new Si(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[t];if(!n){var i=[];this._workspaceEdit.changes[t]=i,n=new Si(i),this._textEditChanges[t]=n}return n}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new rp,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;pr.is(r)||Ie.is(r)?i=r:n=r;var s,o;if(i===void 0?s=Xr.create(t,n):(o=Ie.is(i)?i:this._changeAnnotations.manage(i),s=Xr.create(t,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e.prototype.renameFile=function(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;pr.is(n)||Ie.is(n)?s=n:i=n;var o,a;if(s===void 0?o=Qr.create(t,r,i):(a=Ie.is(s)?s:this._changeAnnotations.manage(s),o=Qr.create(t,r,i,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e.prototype.deleteFile=function(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;pr.is(r)||Ie.is(r)?i=r:n=r;var s,o;if(i===void 0?s=Kr.create(t,n):(o=Ie.is(i)?i:this._changeAnnotations.manage(i),s=Kr.create(t,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e}(),Xo;(function(e){function t(n){return{uri:n}}e.create=t;function r(n){var i=n;return v.defined(i)&&v.string(i.uri)}e.is=r})(Xo||(Xo={}));var Qo;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){var i=n;return v.defined(i)&&v.string(i.uri)&&v.integer(i.version)}e.is=r})(Qo||(Qo={}));var En;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){var i=n;return v.defined(i)&&v.string(i.uri)&&(i.version===null||v.integer(i.version))}e.is=r})(En||(En={}));var Ko;(function(e){function t(n,i,s,o){return{uri:n,languageId:i,version:s,text:o}}e.create=t;function r(n){var i=n;return v.defined(i)&&v.string(i.uri)&&v.string(i.languageId)&&v.integer(i.version)&&v.string(i.text)}e.is=r})(Ko||(Ko={}));var Yr;(function(e){e.PlainText="plaintext",e.Markdown="markdown"})(Yr||(Yr={}));(function(e){function t(r){var n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(Yr||(Yr={}));var wi;(function(e){function t(r){var n=r;return v.objectLiteral(r)&&Yr.is(n.kind)&&v.string(n.value)}e.is=t})(wi||(wi={}));var Yo;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Yo||(Yo={}));var Jo;(function(e){e.PlainText=1,e.Snippet=2})(Jo||(Jo={}));var Zo;(function(e){e.Deprecated=1})(Zo||(Zo={}));var ea;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}e.create=t;function r(n){var i=n;return i&&v.string(i.newText)&&Me.is(i.insert)&&Me.is(i.replace)}e.is=r})(ea||(ea={}));var ta;(function(e){e.asIs=1,e.adjustIndentation=2})(ta||(ta={}));var ra;(function(e){function t(r){return{label:r}}e.create=t})(ra||(ra={}));var na;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(na||(na={}));var Cn;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){var i=n;return v.string(i)||v.objectLiteral(i)&&v.string(i.language)&&v.string(i.value)}e.is=r})(Cn||(Cn={}));var ia;(function(e){function t(r){var n=r;return!!n&&v.objectLiteral(n)&&(wi.is(n.contents)||Cn.is(n.contents)||v.typedArray(n.contents,Cn.is))&&(r.range===void 0||Me.is(r.range))}e.is=t})(ia||(ia={}));var sa;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(sa||(sa={}));var oa;(function(e){function t(r,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o={label:r};return v.defined(n)&&(o.documentation=n),v.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(oa||(oa={}));var aa;(function(e){e.Text=1,e.Read=2,e.Write=3})(aa||(aa={}));var ua;(function(e){function t(r,n){var i={range:r};return v.number(n)&&(i.kind=n),i}e.create=t})(ua||(ua={}));var ca;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(ca||(ca={}));var la;(function(e){e.Deprecated=1})(la||(la={}));var fa;(function(e){function t(r,n,i,s,o){var a={name:r,kind:n,location:{uri:s,range:i}};return o&&(a.containerName=o),a}e.create=t})(fa||(fa={}));var da;(function(e){function t(n,i,s,o,a,c){var p={name:n,detail:i,kind:s,range:o,selectionRange:a};return c!==void 0&&(p.children=c),p}e.create=t;function r(n){var i=n;return i&&v.string(i.name)&&v.number(i.kind)&&Me.is(i.range)&&Me.is(i.selectionRange)&&(i.detail===void 0||v.string(i.detail))&&(i.deprecated===void 0||v.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=r})(da||(da={}));var pa;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(pa||(pa={}));var ha;(function(e){function t(n,i){var s={diagnostics:n};return i!=null&&(s.only=i),s}e.create=t;function r(n){var i=n;return v.defined(i)&&v.typedArray(i.diagnostics,Sn.is)&&(i.only===void 0||v.typedArray(i.only,v.string))}e.is=r})(ha||(ha={}));var ma;(function(e){function t(n,i,s){var o={title:n},a=!0;return typeof i=="string"?(a=!1,o.kind=i):zr.is(i)?o.command=i:o.edit=i,a&&s!==void 0&&(o.kind=s),o}e.create=t;function r(n){var i=n;return i&&v.string(i.title)&&(i.diagnostics===void 0||v.typedArray(i.diagnostics,Sn.is))&&(i.kind===void 0||v.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||zr.is(i.command))&&(i.isPreferred===void 0||v.boolean(i.isPreferred))&&(i.edit===void 0||Ri.is(i.edit))}e.is=r})(ma||(ma={}));var ga;(function(e){function t(n,i){var s={range:n};return v.defined(i)&&(s.data=i),s}e.create=t;function r(n){var i=n;return v.defined(i)&&Me.is(i.range)&&(v.undefined(i.command)||zr.is(i.command))}e.is=r})(ga||(ga={}));var va;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}e.create=t;function r(n){var i=n;return v.defined(i)&&v.uinteger(i.tabSize)&&v.boolean(i.insertSpaces)}e.is=r})(va||(va={}));var ya;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}e.create=t;function r(n){var i=n;return v.defined(i)&&Me.is(i.range)&&(v.undefined(i.target)||v.string(i.target))}e.is=r})(ya||(ya={}));var _a;(function(e){function t(n,i){return{range:n,parent:i}}e.create=t;function r(n){var i=n;return i!==void 0&&Me.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=r})(_a||(_a={}));var wb=[`
`,`\r
`,"\r"],ba;(function(e){function t(s,o,a,c){return new Eb(s,o,a,c)}e.create=t;function r(s){var o=s;return!!(v.defined(o)&&v.string(o.uri)&&(v.undefined(o.languageId)||v.string(o.languageId))&&v.uinteger(o.lineCount)&&v.func(o.getText)&&v.func(o.positionAt)&&v.func(o.offsetAt))}e.is=r;function n(s,o){for(var a=s.getText(),c=i(o,function(C,x){var O=C.range.start.line-x.range.start.line;return O===0?C.range.start.character-x.range.start.character:O}),p=a.length,m=c.length-1;m>=0;m--){var g=c[m],h=s.offsetAt(g.range.start),R=s.offsetAt(g.range.end);if(R<=p)a=a.substring(0,h)+g.newText+a.substring(R,a.length);else throw new Error("Overlapping edit");p=h}return a}e.applyEdits=n;function i(s,o){if(s.length<=1)return s;var a=s.length/2|0,c=s.slice(0,a),p=s.slice(a);i(c,o),i(p,o);for(var m=0,g=0,h=0;m<c.length&&g<p.length;){var R=o(c[m],p[g]);R<=0?s[h++]=c[m++]:s[h++]=p[g++]}for(;m<c.length;)s[h++]=c[m++];for(;g<p.length;)s[h++]=p[g++];return s}})(ba||(ba={}));var Eb=function(){function e(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content},e.prototype.update=function(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],r=this._content,n=!0,i=0;i<r.length;i++){n&&(t.push(i),n=!1);var s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return lt.create(0,t);for(;n<i;){var s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}var o=n-1;return lt.create(o,t-r[o])},e.prototype.offsetAt=function(t){var r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;var n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),v;(function(e){var t=Object.prototype.toString;function r(R){return typeof R!="undefined"}e.defined=r;function n(R){return typeof R=="undefined"}e.undefined=n;function i(R){return R===!0||R===!1}e.boolean=i;function s(R){return t.call(R)==="[object String]"}e.string=s;function o(R){return t.call(R)==="[object Number]"}e.number=o;function a(R,C,x){return t.call(R)==="[object Number]"&&C<=R&&R<=x}e.numberRange=a;function c(R){return t.call(R)==="[object Number]"&&-2147483648<=R&&R<=2147483647}e.integer=c;function p(R){return t.call(R)==="[object Number]"&&0<=R&&R<=2147483647}e.uinteger=p;function m(R){return t.call(R)==="[object Function]"}e.func=m;function g(R){return R!==null&&typeof R=="object"}e.objectLiteral=g;function h(R,C){return Array.isArray(R)&&R.every(C)}e.typedArray=h})(v||(v={}))});var $e=y(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.ProtocolNotificationType=nt.ProtocolNotificationType0=nt.ProtocolRequestType=nt.ProtocolRequestType0=nt.RegistrationType=void 0;var Jr=Vr(),ip=class{constructor(t){this.method=t}};nt.RegistrationType=ip;var sp=class extends Jr.RequestType0{constructor(t){super(t)}};nt.ProtocolRequestType0=sp;var op=class extends Jr.RequestType{constructor(t){super(t,Jr.ParameterStructures.byName)}};nt.ProtocolRequestType=op;var ap=class extends Jr.NotificationType0{constructor(t){super(t)}};nt.ProtocolNotificationType0=ap;var up=class extends Jr.NotificationType{constructor(t){super(t,Jr.ParameterStructures.byName)}};nt.ProtocolNotificationType=up});var fp=y(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.objectLiteral=Ce.typedArray=Ce.stringArray=Ce.array=Ce.func=Ce.error=Ce.number=Ce.string=Ce.boolean=void 0;function Cb(e){return e===!0||e===!1}Ce.boolean=Cb;function cp(e){return typeof e=="string"||e instanceof String}Ce.string=cp;function xb(e){return typeof e=="number"||e instanceof Number}Ce.number=xb;function Tb(e){return e instanceof Error}Ce.error=Tb;function Pb(e){return typeof e=="function"}Ce.func=Pb;function lp(e){return Array.isArray(e)}Ce.array=lp;function Ab(e){return lp(e)&&e.every(t=>cp(t))}Ce.stringArray=Ab;function kb(e,t){return Array.isArray(e)&&e.every(t)}Ce.typedArray=kb;function Db(e){return e!==null&&typeof e=="object"}Ce.objectLiteral=Db});var dp=y(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.ImplementationRequest=void 0;var Ob=$e(),Lb;(function(e){e.method="textDocument/implementation",e.type=new Ob.ProtocolRequestType(e.method)})(Lb=xn.ImplementationRequest||(xn.ImplementationRequest={}))});var pp=y(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.TypeDefinitionRequest=void 0;var qb=$e(),Nb;(function(e){e.method="textDocument/typeDefinition",e.type=new qb.ProtocolRequestType(e.method)})(Nb=Tn.TypeDefinitionRequest||(Tn.TypeDefinitionRequest={}))});var mp=y(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.DidChangeWorkspaceFoldersNotification=Xt.WorkspaceFoldersRequest=void 0;var hp=$e(),Mb;(function(e){e.type=new hp.ProtocolRequestType0("workspace/workspaceFolders")})(Mb=Xt.WorkspaceFoldersRequest||(Xt.WorkspaceFoldersRequest={}));var $b;(function(e){e.type=new hp.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})($b=Xt.DidChangeWorkspaceFoldersNotification||(Xt.DidChangeWorkspaceFoldersNotification={}))});var gp=y(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ConfigurationRequest=void 0;var Fb=$e(),Hb;(function(e){e.type=new Fb.ProtocolRequestType("workspace/configuration")})(Hb=Pn.ConfigurationRequest||(Pn.ConfigurationRequest={}))});var yp=y(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ColorPresentationRequest=Qt.DocumentColorRequest=void 0;var vp=$e(),Ib;(function(e){e.method="textDocument/documentColor",e.type=new vp.ProtocolRequestType(e.method)})(Ib=Qt.DocumentColorRequest||(Qt.DocumentColorRequest={}));var jb;(function(e){e.type=new vp.ProtocolRequestType("textDocument/colorPresentation")})(jb=Qt.ColorPresentationRequest||(Qt.ColorPresentationRequest={}))});var _p=y(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.FoldingRangeRequest=Kt.FoldingRangeKind=void 0;var Bb=$e(),Wb;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Wb=Kt.FoldingRangeKind||(Kt.FoldingRangeKind={}));var Ub;(function(e){e.method="textDocument/foldingRange",e.type=new Bb.ProtocolRequestType(e.method)})(Ub=Kt.FoldingRangeRequest||(Kt.FoldingRangeRequest={}))});var bp=y(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.DeclarationRequest=void 0;var Gb=$e(),Vb;(function(e){e.method="textDocument/declaration",e.type=new Gb.ProtocolRequestType(e.method)})(Vb=An.DeclarationRequest||(An.DeclarationRequest={}))});var Rp=y(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.SelectionRangeRequest=void 0;var zb=$e(),Xb;(function(e){e.method="textDocument/selectionRange",e.type=new zb.ProtocolRequestType(e.method)})(Xb=kn.SelectionRangeRequest||(kn.SelectionRangeRequest={}))});var wp=y(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.WorkDoneProgressCancelNotification=ft.WorkDoneProgressCreateRequest=ft.WorkDoneProgress=void 0;var Qb=Vr(),Sp=$e(),Kb;(function(e){e.type=new Qb.ProgressType;function t(r){return r===e.type}e.is=t})(Kb=ft.WorkDoneProgress||(ft.WorkDoneProgress={}));var Yb;(function(e){e.type=new Sp.ProtocolRequestType("window/workDoneProgress/create")})(Yb=ft.WorkDoneProgressCreateRequest||(ft.WorkDoneProgressCreateRequest={}));var Jb;(function(e){e.type=new Sp.ProtocolNotificationType("window/workDoneProgress/cancel")})(Jb=ft.WorkDoneProgressCancelNotification||(ft.WorkDoneProgressCancelNotification={}))});var Ep=y(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.CallHierarchyOutgoingCallsRequest=dt.CallHierarchyIncomingCallsRequest=dt.CallHierarchyPrepareRequest=void 0;var Ra=$e(),Zb;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new Ra.ProtocolRequestType(e.method)})(Zb=dt.CallHierarchyPrepareRequest||(dt.CallHierarchyPrepareRequest={}));var eR;(function(e){e.method="callHierarchy/incomingCalls",e.type=new Ra.ProtocolRequestType(e.method)})(eR=dt.CallHierarchyIncomingCallsRequest||(dt.CallHierarchyIncomingCallsRequest={}));var tR;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new Ra.ProtocolRequestType(e.method)})(tR=dt.CallHierarchyOutgoingCallsRequest||(dt.CallHierarchyOutgoingCallsRequest={}))});var Cp=y(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.SemanticTokensRefreshRequest=oe.SemanticTokensRangeRequest=oe.SemanticTokensDeltaRequest=oe.SemanticTokensRequest=oe.SemanticTokensRegistrationType=oe.TokenFormat=oe.SemanticTokens=oe.SemanticTokenModifiers=oe.SemanticTokenTypes=void 0;var Dn=$e(),rR;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"})(rR=oe.SemanticTokenTypes||(oe.SemanticTokenTypes={}));var nR;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(nR=oe.SemanticTokenModifiers||(oe.SemanticTokenModifiers={}));var iR;(function(e){function t(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(iR=oe.SemanticTokens||(oe.SemanticTokens={}));var sR;(function(e){e.Relative="relative"})(sR=oe.TokenFormat||(oe.TokenFormat={}));var oR;(function(e){e.method="textDocument/semanticTokens",e.type=new Dn.RegistrationType(e.method)})(oR=oe.SemanticTokensRegistrationType||(oe.SemanticTokensRegistrationType={}));var aR;(function(e){e.method="textDocument/semanticTokens/full",e.type=new Dn.ProtocolRequestType(e.method)})(aR=oe.SemanticTokensRequest||(oe.SemanticTokensRequest={}));var uR;(function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new Dn.ProtocolRequestType(e.method)})(uR=oe.SemanticTokensDeltaRequest||(oe.SemanticTokensDeltaRequest={}));var cR;(function(e){e.method="textDocument/semanticTokens/range",e.type=new Dn.ProtocolRequestType(e.method)})(cR=oe.SemanticTokensRangeRequest||(oe.SemanticTokensRangeRequest={}));var lR;(function(e){e.method="workspace/semanticTokens/refresh",e.type=new Dn.ProtocolRequestType0(e.method)})(lR=oe.SemanticTokensRefreshRequest||(oe.SemanticTokensRefreshRequest={}))});var xp=y(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.ShowDocumentRequest=void 0;var fR=$e(),dR;(function(e){e.method="window/showDocument",e.type=new fR.ProtocolRequestType(e.method)})(dR=On.ShowDocumentRequest||(On.ShowDocumentRequest={}))});var Tp=y(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.LinkedEditingRangeRequest=void 0;var pR=$e(),hR;(function(e){e.method="textDocument/linkedEditingRange",e.type=new pR.ProtocolRequestType(e.method)})(hR=Ln.LinkedEditingRangeRequest||(Ln.LinkedEditingRangeRequest={}))});var Pp=y(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.WillDeleteFilesRequest=ye.DidDeleteFilesNotification=ye.DidRenameFilesNotification=ye.WillRenameFilesRequest=ye.DidCreateFilesNotification=ye.WillCreateFilesRequest=ye.FileOperationPatternKind=void 0;var Zr=$e(),mR;(function(e){e.file="file",e.folder="folder"})(mR=ye.FileOperationPatternKind||(ye.FileOperationPatternKind={}));var gR;(function(e){e.method="workspace/willCreateFiles",e.type=new Zr.ProtocolRequestType(e.method)})(gR=ye.WillCreateFilesRequest||(ye.WillCreateFilesRequest={}));var vR;(function(e){e.method="workspace/didCreateFiles",e.type=new Zr.ProtocolNotificationType(e.method)})(vR=ye.DidCreateFilesNotification||(ye.DidCreateFilesNotification={}));var yR;(function(e){e.method="workspace/willRenameFiles",e.type=new Zr.ProtocolRequestType(e.method)})(yR=ye.WillRenameFilesRequest||(ye.WillRenameFilesRequest={}));var _R;(function(e){e.method="workspace/didRenameFiles",e.type=new Zr.ProtocolNotificationType(e.method)})(_R=ye.DidRenameFilesNotification||(ye.DidRenameFilesNotification={}));var bR;(function(e){e.method="workspace/didDeleteFiles",e.type=new Zr.ProtocolNotificationType(e.method)})(bR=ye.DidDeleteFilesNotification||(ye.DidDeleteFilesNotification={}));var RR;(function(e){e.method="workspace/willDeleteFiles",e.type=new Zr.ProtocolRequestType(e.method)})(RR=ye.WillDeleteFilesRequest||(ye.WillDeleteFilesRequest={}))});var Ap=y(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.MonikerRequest=pt.MonikerKind=pt.UniquenessLevel=void 0;var SR=$e(),wR;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(wR=pt.UniquenessLevel||(pt.UniquenessLevel={}));var ER;(function(e){e.import="import",e.export="export",e.local="local"})(ER=pt.MonikerKind||(pt.MonikerKind={}));var CR;(function(e){e.method="textDocument/moniker",e.type=new SR.ProtocolRequestType(e.method)})(CR=pt.MonikerRequest||(pt.MonikerRequest={}))});var qp=y(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.DocumentLinkRequest=u.CodeLensRefreshRequest=u.CodeLensResolveRequest=u.CodeLensRequest=u.WorkspaceSymbolRequest=u.CodeActionResolveRequest=u.CodeActionRequest=u.DocumentSymbolRequest=u.DocumentHighlightRequest=u.ReferencesRequest=u.DefinitionRequest=u.SignatureHelpRequest=u.SignatureHelpTriggerKind=u.HoverRequest=u.CompletionResolveRequest=u.CompletionRequest=u.CompletionTriggerKind=u.PublishDiagnosticsNotification=u.WatchKind=u.FileChangeType=u.DidChangeWatchedFilesNotification=u.WillSaveTextDocumentWaitUntilRequest=u.WillSaveTextDocumentNotification=u.TextDocumentSaveReason=u.DidSaveTextDocumentNotification=u.DidCloseTextDocumentNotification=u.DidChangeTextDocumentNotification=u.TextDocumentContentChangeEvent=u.DidOpenTextDocumentNotification=u.TextDocumentSyncKind=u.TelemetryEventNotification=u.LogMessageNotification=u.ShowMessageRequest=u.ShowMessageNotification=u.MessageType=u.DidChangeConfigurationNotification=u.ExitNotification=u.ShutdownRequest=u.InitializedNotification=u.InitializeError=u.InitializeRequest=u.WorkDoneProgressOptions=u.TextDocumentRegistrationOptions=u.StaticRegistrationOptions=u.FailureHandlingKind=u.ResourceOperationKind=u.UnregistrationRequest=u.RegistrationRequest=u.DocumentSelector=u.DocumentFilter=void 0;u.MonikerRequest=u.MonikerKind=u.UniquenessLevel=u.WillDeleteFilesRequest=u.DidDeleteFilesNotification=u.WillRenameFilesRequest=u.DidRenameFilesNotification=u.WillCreateFilesRequest=u.DidCreateFilesNotification=u.FileOperationPatternKind=u.LinkedEditingRangeRequest=u.ShowDocumentRequest=u.SemanticTokensRegistrationType=u.SemanticTokensRefreshRequest=u.SemanticTokensRangeRequest=u.SemanticTokensDeltaRequest=u.SemanticTokensRequest=u.TokenFormat=u.SemanticTokens=u.SemanticTokenModifiers=u.SemanticTokenTypes=u.CallHierarchyPrepareRequest=u.CallHierarchyOutgoingCallsRequest=u.CallHierarchyIncomingCallsRequest=u.WorkDoneProgressCancelNotification=u.WorkDoneProgressCreateRequest=u.WorkDoneProgress=u.SelectionRangeRequest=u.DeclarationRequest=u.FoldingRangeRequest=u.ColorPresentationRequest=u.DocumentColorRequest=u.ConfigurationRequest=u.DidChangeWorkspaceFoldersNotification=u.WorkspaceFoldersRequest=u.TypeDefinitionRequest=u.ImplementationRequest=u.ApplyWorkspaceEditRequest=u.ExecuteCommandRequest=u.PrepareRenameRequest=u.RenameRequest=u.PrepareSupportDefaultBehavior=u.DocumentOnTypeFormattingRequest=u.DocumentRangeFormattingRequest=u.DocumentFormattingRequest=u.DocumentLinkResolveRequest=void 0;var Yt=fp(),X=$e(),xR=dp();Object.defineProperty(u,"ImplementationRequest",{enumerable:!0,get:function(){return xR.ImplementationRequest}});var TR=pp();Object.defineProperty(u,"TypeDefinitionRequest",{enumerable:!0,get:function(){return TR.TypeDefinitionRequest}});var kp=mp();Object.defineProperty(u,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return kp.WorkspaceFoldersRequest}});Object.defineProperty(u,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return kp.DidChangeWorkspaceFoldersNotification}});var PR=gp();Object.defineProperty(u,"ConfigurationRequest",{enumerable:!0,get:function(){return PR.ConfigurationRequest}});var Dp=yp();Object.defineProperty(u,"DocumentColorRequest",{enumerable:!0,get:function(){return Dp.DocumentColorRequest}});Object.defineProperty(u,"ColorPresentationRequest",{enumerable:!0,get:function(){return Dp.ColorPresentationRequest}});var AR=_p();Object.defineProperty(u,"FoldingRangeRequest",{enumerable:!0,get:function(){return AR.FoldingRangeRequest}});var kR=bp();Object.defineProperty(u,"DeclarationRequest",{enumerable:!0,get:function(){return kR.DeclarationRequest}});var DR=Rp();Object.defineProperty(u,"SelectionRangeRequest",{enumerable:!0,get:function(){return DR.SelectionRangeRequest}});var Sa=wp();Object.defineProperty(u,"WorkDoneProgress",{enumerable:!0,get:function(){return Sa.WorkDoneProgress}});Object.defineProperty(u,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Sa.WorkDoneProgressCreateRequest}});Object.defineProperty(u,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Sa.WorkDoneProgressCancelNotification}});var wa=Ep();Object.defineProperty(u,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return wa.CallHierarchyIncomingCallsRequest}});Object.defineProperty(u,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return wa.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(u,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return wa.CallHierarchyPrepareRequest}});var Bt=Cp();Object.defineProperty(u,"SemanticTokenTypes",{enumerable:!0,get:function(){return Bt.SemanticTokenTypes}});Object.defineProperty(u,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Bt.SemanticTokenModifiers}});Object.defineProperty(u,"SemanticTokens",{enumerable:!0,get:function(){return Bt.SemanticTokens}});Object.defineProperty(u,"TokenFormat",{enumerable:!0,get:function(){return Bt.TokenFormat}});Object.defineProperty(u,"SemanticTokensRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensRequest}});Object.defineProperty(u,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensDeltaRequest}});Object.defineProperty(u,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensRangeRequest}});Object.defineProperty(u,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensRefreshRequest}});Object.defineProperty(u,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Bt.SemanticTokensRegistrationType}});var OR=xp();Object.defineProperty(u,"ShowDocumentRequest",{enumerable:!0,get:function(){return OR.ShowDocumentRequest}});var LR=Tp();Object.defineProperty(u,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return LR.LinkedEditingRangeRequest}});var hr=Pp();Object.defineProperty(u,"FileOperationPatternKind",{enumerable:!0,get:function(){return hr.FileOperationPatternKind}});Object.defineProperty(u,"DidCreateFilesNotification",{enumerable:!0,get:function(){return hr.DidCreateFilesNotification}});Object.defineProperty(u,"WillCreateFilesRequest",{enumerable:!0,get:function(){return hr.WillCreateFilesRequest}});Object.defineProperty(u,"DidRenameFilesNotification",{enumerable:!0,get:function(){return hr.DidRenameFilesNotification}});Object.defineProperty(u,"WillRenameFilesRequest",{enumerable:!0,get:function(){return hr.WillRenameFilesRequest}});Object.defineProperty(u,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return hr.DidDeleteFilesNotification}});Object.defineProperty(u,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return hr.WillDeleteFilesRequest}});var Ea=Ap();Object.defineProperty(u,"UniquenessLevel",{enumerable:!0,get:function(){return Ea.UniquenessLevel}});Object.defineProperty(u,"MonikerKind",{enumerable:!0,get:function(){return Ea.MonikerKind}});Object.defineProperty(u,"MonikerRequest",{enumerable:!0,get:function(){return Ea.MonikerRequest}});var Op;(function(e){function t(r){let n=r;return Yt.string(n.language)||Yt.string(n.scheme)||Yt.string(n.pattern)}e.is=t})(Op=u.DocumentFilter||(u.DocumentFilter={}));var Lp;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Yt.string(n)&&!Op.is(n))return!1;return!0}e.is=t})(Lp=u.DocumentSelector||(u.DocumentSelector={}));var qR;(function(e){e.type=new X.ProtocolRequestType("client/registerCapability")})(qR=u.RegistrationRequest||(u.RegistrationRequest={}));var NR;(function(e){e.type=new X.ProtocolRequestType("client/unregisterCapability")})(NR=u.UnregistrationRequest||(u.UnregistrationRequest={}));var MR;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(MR=u.ResourceOperationKind||(u.ResourceOperationKind={}));var $R;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})($R=u.FailureHandlingKind||(u.FailureHandlingKind={}));var FR;(function(e){function t(r){let n=r;return n&&Yt.string(n.id)&&n.id.length>0}e.hasId=t})(FR=u.StaticRegistrationOptions||(u.StaticRegistrationOptions={}));var HR;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||Lp.is(n.documentSelector))}e.is=t})(HR=u.TextDocumentRegistrationOptions||(u.TextDocumentRegistrationOptions={}));var IR;(function(e){function t(n){let i=n;return Yt.objectLiteral(i)&&(i.workDoneProgress===void 0||Yt.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&Yt.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(IR=u.WorkDoneProgressOptions||(u.WorkDoneProgressOptions={}));var jR;(function(e){e.type=new X.ProtocolRequestType("initialize")})(jR=u.InitializeRequest||(u.InitializeRequest={}));var BR;(function(e){e.unknownProtocolVersion=1})(BR=u.InitializeError||(u.InitializeError={}));var WR;(function(e){e.type=new X.ProtocolNotificationType("initialized")})(WR=u.InitializedNotification||(u.InitializedNotification={}));var UR;(function(e){e.type=new X.ProtocolRequestType0("shutdown")})(UR=u.ShutdownRequest||(u.ShutdownRequest={}));var GR;(function(e){e.type=new X.ProtocolNotificationType0("exit")})(GR=u.ExitNotification||(u.ExitNotification={}));var VR;(function(e){e.type=new X.ProtocolNotificationType("workspace/didChangeConfiguration")})(VR=u.DidChangeConfigurationNotification||(u.DidChangeConfigurationNotification={}));var zR;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(zR=u.MessageType||(u.MessageType={}));var XR;(function(e){e.type=new X.ProtocolNotificationType("window/showMessage")})(XR=u.ShowMessageNotification||(u.ShowMessageNotification={}));var QR;(function(e){e.type=new X.ProtocolRequestType("window/showMessageRequest")})(QR=u.ShowMessageRequest||(u.ShowMessageRequest={}));var KR;(function(e){e.type=new X.ProtocolNotificationType("window/logMessage")})(KR=u.LogMessageNotification||(u.LogMessageNotification={}));var YR;(function(e){e.type=new X.ProtocolNotificationType("telemetry/event")})(YR=u.TelemetryEventNotification||(u.TelemetryEventNotification={}));var JR;(function(e){e.None=0,e.Full=1,e.Incremental=2})(JR=u.TextDocumentSyncKind||(u.TextDocumentSyncKind={}));var ZR;(function(e){e.method="textDocument/didOpen",e.type=new X.ProtocolNotificationType(e.method)})(ZR=u.DidOpenTextDocumentNotification||(u.DidOpenTextDocumentNotification={}));var eS;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=r})(eS=u.TextDocumentContentChangeEvent||(u.TextDocumentContentChangeEvent={}));var tS;(function(e){e.method="textDocument/didChange",e.type=new X.ProtocolNotificationType(e.method)})(tS=u.DidChangeTextDocumentNotification||(u.DidChangeTextDocumentNotification={}));var rS;(function(e){e.method="textDocument/didClose",e.type=new X.ProtocolNotificationType(e.method)})(rS=u.DidCloseTextDocumentNotification||(u.DidCloseTextDocumentNotification={}));var nS;(function(e){e.method="textDocument/didSave",e.type=new X.ProtocolNotificationType(e.method)})(nS=u.DidSaveTextDocumentNotification||(u.DidSaveTextDocumentNotification={}));var iS;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(iS=u.TextDocumentSaveReason||(u.TextDocumentSaveReason={}));var sS;(function(e){e.method="textDocument/willSave",e.type=new X.ProtocolNotificationType(e.method)})(sS=u.WillSaveTextDocumentNotification||(u.WillSaveTextDocumentNotification={}));var oS;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new X.ProtocolRequestType(e.method)})(oS=u.WillSaveTextDocumentWaitUntilRequest||(u.WillSaveTextDocumentWaitUntilRequest={}));var aS;(function(e){e.type=new X.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(aS=u.DidChangeWatchedFilesNotification||(u.DidChangeWatchedFilesNotification={}));var uS;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(uS=u.FileChangeType||(u.FileChangeType={}));var cS;(function(e){e.Create=1,e.Change=2,e.Delete=4})(cS=u.WatchKind||(u.WatchKind={}));var lS;(function(e){e.type=new X.ProtocolNotificationType("textDocument/publishDiagnostics")})(lS=u.PublishDiagnosticsNotification||(u.PublishDiagnosticsNotification={}));var fS;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(fS=u.CompletionTriggerKind||(u.CompletionTriggerKind={}));var dS;(function(e){e.method="textDocument/completion",e.type=new X.ProtocolRequestType(e.method)})(dS=u.CompletionRequest||(u.CompletionRequest={}));var pS;(function(e){e.method="completionItem/resolve",e.type=new X.ProtocolRequestType(e.method)})(pS=u.CompletionResolveRequest||(u.CompletionResolveRequest={}));var hS;(function(e){e.method="textDocument/hover",e.type=new X.ProtocolRequestType(e.method)})(hS=u.HoverRequest||(u.HoverRequest={}));var mS;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(mS=u.SignatureHelpTriggerKind||(u.SignatureHelpTriggerKind={}));var gS;(function(e){e.method="textDocument/signatureHelp",e.type=new X.ProtocolRequestType(e.method)})(gS=u.SignatureHelpRequest||(u.SignatureHelpRequest={}));var vS;(function(e){e.method="textDocument/definition",e.type=new X.ProtocolRequestType(e.method)})(vS=u.DefinitionRequest||(u.DefinitionRequest={}));var yS;(function(e){e.method="textDocument/references",e.type=new X.ProtocolRequestType(e.method)})(yS=u.ReferencesRequest||(u.ReferencesRequest={}));var _S;(function(e){e.method="textDocument/documentHighlight",e.type=new X.ProtocolRequestType(e.method)})(_S=u.DocumentHighlightRequest||(u.DocumentHighlightRequest={}));var bS;(function(e){e.method="textDocument/documentSymbol",e.type=new X.ProtocolRequestType(e.method)})(bS=u.DocumentSymbolRequest||(u.DocumentSymbolRequest={}));var RS;(function(e){e.method="textDocument/codeAction",e.type=new X.ProtocolRequestType(e.method)})(RS=u.CodeActionRequest||(u.CodeActionRequest={}));var SS;(function(e){e.method="codeAction/resolve",e.type=new X.ProtocolRequestType(e.method)})(SS=u.CodeActionResolveRequest||(u.CodeActionResolveRequest={}));var wS;(function(e){e.method="workspace/symbol",e.type=new X.ProtocolRequestType(e.method)})(wS=u.WorkspaceSymbolRequest||(u.WorkspaceSymbolRequest={}));var ES;(function(e){e.method="textDocument/codeLens",e.type=new X.ProtocolRequestType(e.method)})(ES=u.CodeLensRequest||(u.CodeLensRequest={}));var CS;(function(e){e.method="codeLens/resolve",e.type=new X.ProtocolRequestType(e.method)})(CS=u.CodeLensResolveRequest||(u.CodeLensResolveRequest={}));var xS;(function(e){e.method="workspace/codeLens/refresh",e.type=new X.ProtocolRequestType0(e.method)})(xS=u.CodeLensRefreshRequest||(u.CodeLensRefreshRequest={}));var TS;(function(e){e.method="textDocument/documentLink",e.type=new X.ProtocolRequestType(e.method)})(TS=u.DocumentLinkRequest||(u.DocumentLinkRequest={}));var PS;(function(e){e.method="documentLink/resolve",e.type=new X.ProtocolRequestType(e.method)})(PS=u.DocumentLinkResolveRequest||(u.DocumentLinkResolveRequest={}));var AS;(function(e){e.method="textDocument/formatting",e.type=new X.ProtocolRequestType(e.method)})(AS=u.DocumentFormattingRequest||(u.DocumentFormattingRequest={}));var kS;(function(e){e.method="textDocument/rangeFormatting",e.type=new X.ProtocolRequestType(e.method)})(kS=u.DocumentRangeFormattingRequest||(u.DocumentRangeFormattingRequest={}));var DS;(function(e){e.method="textDocument/onTypeFormatting",e.type=new X.ProtocolRequestType(e.method)})(DS=u.DocumentOnTypeFormattingRequest||(u.DocumentOnTypeFormattingRequest={}));var OS;(function(e){e.Identifier=1})(OS=u.PrepareSupportDefaultBehavior||(u.PrepareSupportDefaultBehavior={}));var LS;(function(e){e.method="textDocument/rename",e.type=new X.ProtocolRequestType(e.method)})(LS=u.RenameRequest||(u.RenameRequest={}));var qS;(function(e){e.method="textDocument/prepareRename",e.type=new X.ProtocolRequestType(e.method)})(qS=u.PrepareRenameRequest||(u.PrepareRenameRequest={}));var NS;(function(e){e.type=new X.ProtocolRequestType("workspace/executeCommand")})(NS=u.ExecuteCommandRequest||(u.ExecuteCommandRequest={}));var MS;(function(e){e.type=new X.ProtocolRequestType("workspace/applyEdit")})(MS=u.ApplyWorkspaceEditRequest||(u.ApplyWorkspaceEditRequest={}))});var Mp=y(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.createProtocolConnection=void 0;var Np=Vr();function $S(e,t,r,n){return Np.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),Np.createMessageConnection(e,t,r,n)}Ei.createProtocolConnection=$S});var $p=y(Ge=>{"use strict";var FS=Ge&&Ge.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ci=Ge&&Ge.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FS(t,e,r)};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.LSPErrorCodes=Ge.createProtocolConnection=void 0;Ci(Vr(),Ge);Ci(np(),Ge);Ci($e(),Ge);Ci(qp(),Ge);var HS=Mp();Object.defineProperty(Ge,"createProtocolConnection",{enumerable:!0,get:function(){return HS.createProtocolConnection}});var IS;(function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(IS=Ge.LSPErrorCodes||(Ge.LSPErrorCodes={}))});var Hp=y(xt=>{"use strict";var jS=xt&&xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fp=xt&&xt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jS(t,e,r)};Object.defineProperty(xt,"__esModule",{value:!0});xt.createProtocolConnection=void 0;var BS=Fo();Fp(Fo(),xt);Fp($p(),xt);function WS(e,t,r,n){return BS.createMessageConnection(e,t,r,n)}xt.createProtocolConnection=WS});var th=y((UT,Jp)=>{var Zp={};Jp.exports=Zp;var eh={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(eh).forEach(function(e){var t=eh[e],r=Zp[e]=[];r.open="["+t[0]+"m",r.close="["+t[1]+"m"})});var nh=y((GT,rh)=>{"use strict";rh.exports=function(e,t){t=t||process.argv;var r=t.indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return i!==-1&&(r===-1?!0:i<r)}});var sh=y((VT,ih)=>{"use strict";var KS=require("os"),mt=nh(),Ve=process.env,en=void 0;mt("no-color")||mt("no-colors")||mt("color=false")?en=!1:(mt("color")||mt("colors")||mt("color=true")||mt("color=always"))&&(en=!0);"FORCE_COLOR"in Ve&&(en=Ve.FORCE_COLOR.length===0||parseInt(Ve.FORCE_COLOR,10)!==0);function YS(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function JS(e){if(en===!1)return 0;if(mt("color=16m")||mt("color=full")||mt("color=truecolor"))return 3;if(mt("color=256"))return 2;if(e&&!e.isTTY&&en!==!0)return 0;var t=en?1:0;if(process.platform==="win32"){var r=KS.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Ve)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in Ve})||Ve.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Ve)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ve.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Ve){var n=parseInt((Ve.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ve.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ve.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Ve.TERM)||"COLORTERM"in Ve?1:(Ve.TERM==="dumb",t)}function Pa(e){var t=JS(e);return YS(t)}ih.exports={supportsColor:Pa,stdout:Pa(process.stdout),stderr:Pa(process.stderr)}});var ah=y((zT,oh)=>{oh.exports=function(t,r){var n="";t=t||"Run the trap, drop the bass",t=t.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return t.forEach(function(s){s=s.toLowerCase();var o=i[s]||[" "],a=Math.floor(Math.random()*o.length);typeof i[s]!="undefined"?n+=i[s][a]:n+=s}),n}});var ch=y((XT,uh)=>{uh.exports=function(t,r){t=t||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function s(c){var p=Math.floor(Math.random()*c);return p}function o(c){var p=!1;return i.filter(function(m){p=m===c}),p}function a(c,p){var m="",g,h;p=p||{},p.up=typeof p.up!="undefined"?p.up:!0,p.mid=typeof p.mid!="undefined"?p.mid:!0,p.down=typeof p.down!="undefined"?p.down:!0,p.size=typeof p.size!="undefined"?p.size:"maxi",c=c.split("");for(h in c)if(!o(h)){switch(m=m+c[h],g={up:0,down:0,mid:0},p.size){case"mini":g.up=s(8),g.mid=s(2),g.down=s(8);break;case"maxi":g.up=s(16)+3,g.mid=s(4)+1,g.down=s(64)+3;break;default:g.up=s(8)+1,g.mid=s(6)/2,g.down=s(8)+1;break}var R=["up","mid","down"];for(var C in R)for(var x=R[C],O=0;O<=g[x];O++)p[x]&&(m=m+n[x][s(n[x].length)])}return m}return a(t,r)}});var fh=y((QT,lh)=>{lh.exports=function(e){return function(t,r,n){if(t===" ")return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}});var ph=y((KT,dh)=>{dh.exports=function(e){return function(t,r,n){return r%2==0?t:e.inverse(t)}}});var mh=y((YT,hh)=>{hh.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:e[t[n++%t.length]](r)}}});var vh=y((JT,gh)=>{gh.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}});var Sh=y((eP,yh)=>{var Y={};yh.exports=Y;Y.themes={};var ZS=require("util"),mr=Y.styles=th(),_h=Object.defineProperties,ew=new RegExp(/[\r\n]+/g);Y.supportsColor=sh().supportsColor;typeof Y.enabled=="undefined"&&(Y.enabled=Y.supportsColor()!==!1);Y.enable=function(){Y.enabled=!0};Y.disable=function(){Y.enabled=!1};Y.stripColors=Y.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};var ZT=Y.stylize=function(t,r){if(!Y.enabled)return t+"";var n=mr[r];return!n&&r in Y?Y[r](t):n.open+t+n.close},tw=/[|\\{}()[\]^$+*?.]/g,rw=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(tw,"\\$&")};function bh(e){var t=function r(){return iw.apply(r,arguments)};return t._styles=e,t.__proto__=nw,t}var Rh=function(){var e={};return mr.grey=mr.gray,Object.keys(mr).forEach(function(t){mr[t].closeRe=new RegExp(rw(mr[t].close),"g"),e[t]={get:function(){return bh(this._styles.concat(t))}}}),e}(),nw=_h(function(){},Rh);function iw(){var e=Array.prototype.slice.call(arguments),t=e.map(function(o){return o!=null&&o.constructor===String?o:ZS.inspect(o)}).join(" ");if(!Y.enabled||!t)return t;for(var r=t.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var s=mr[n[i]];t=s.open+t.replace(s.closeRe,s.open)+s.close,r&&(t=t.replace(ew,function(o){return s.close+o+s.open}))}return t}Y.setTheme=function(e){if(typeof e=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var t in e)(function(r){Y[r]=function(n){if(typeof e[r]=="object"){var i=n;for(var s in e[r])i=Y[e[r][s]](i);return i}return Y[e[r]](n)}})(t)};function sw(){var e={};return Object.keys(Rh).forEach(function(t){e[t]={get:function(){return bh([t])}}}),e}var ow=function(t,r){var n=r.split("");return n=n.map(t),n.join("")};Y.trap=ah();Y.zalgo=ch();Y.maps={};Y.maps.america=fh()(Y);Y.maps.zebra=ph()(Y);Y.maps.rainbow=mh()(Y);Y.maps.random=vh()(Y);for(var aw in Y.maps)(function(e){Y[e]=function(t){return ow(Y.maps[e],t)}})(aw);_h(Y,sw())});var Ti=y((tP,wh)=>{var uw=Sh();wh.exports=uw});ki(exports);Ia(exports,{activate:()=>fw});var Oh=j(require("coc.nvim"));var Di=j(require("coc.nvim"));var vr=/\r?\n/,Pt="flutter",yr="flutter-dev",Hn=new RegExp("^[a-zA-Z_][a-zA-Z0-9_]*$"),ja=Hn,Ba=Hn;var J=class{constructor(){this.subscriptions=[]}push(...t){this.subscriptions.push(...t)}remove(t){this.subscriptions=this.subscriptions.filter(r=>t===r?(r.dispose(),!1):!0)}dispose(){this.subscriptions.length&&(this.subscriptions.forEach(t=>{t.dispose()}),this.subscriptions=[])}};var Wa=class extends J{init(t){this._traceServer=t,this._traceServer!=="off"&&(this._outchannel=Di.window.createOutputChannel("flutter"),this.push(this._outchannel))}set outchannel(t){this._outchannel=t}get outchannel(){return this._outchannel}get devOutchannel(){return this._devOutchannel||(this._devOutchannel=Di.window.createOutputChannel(yr),this.push(this._devOutchannel)),this._devOutchannel}get traceServer(){return this._traceServer}getlog(t){return r=>{r&&this._outchannel&&this._outchannel.appendLine(`[${t}]: ${r}`)}}dispose(){super.dispose(),this._outchannel=void 0,this._devOutchannel=void 0,this._traceServer=void 0}},se=new Wa;var Hr=j(require("coc.nvim"));var nn=j(require("coc.nvim"));var Oi=j(require("coc.nvim"));var jh=se.getlog("floatWin"),Li=class extends J{constructor(t){super();this.message=t}async show(t){let{nvim:r}=Oi.workspace,{message:n}=this,i=await r.createNewBuffer(!1,!0);await i.setLines(n.lines,{start:0,end:-1,strictIndexing:!1});let s=await r.getOption("columns"),o=await r.openFloatWindow(i,!1,{focusable:!1,relative:"editor",anchor:"NE",height:n.height,width:n.width+2,row:t,col:s});this.buf=i,this.win=o,r.pauseNotification(),await o.setOption("number",!1),await o.setOption("wrap",!0),await o.setOption("relativenumber",!1),await o.setOption("cursorline",!1),await o.setOption("cursorcolumn",!1),await o.setOption("conceallevel",2),await o.setOption("signcolumn","no"),await o.setOption("winhighlight","FoldColumn:NormalFloat"),await r.resumeNotification();try{await o.setOption("foldcolumn",Oi.workspace.isVim?1:"1")}catch(a){jh(`set foldcolumn error: ${a.message||a}`)}}async dispose(){super.dispose(),this.buf&&(this.buf=void 0),this.win&&await this.win.close(!0)}async update(t){let{win:r}=this;if(r){let n=await r.getConfig();await r.setConfig({...n,row:t})}}};var qi=class extends J{constructor(t,r,n=1e3){super();this.lines=t;this._time=n;this.top=0;this.width=0,this.height=0;for(let i of t){let s=Buffer.byteLength(i);this.width=Math.max(this.width,Math.min(s,r)),this.height=this.height+Math.max(1,Math.ceil(s/(r-2)))}this.floatWindow=new Li(this),this.push(this.floatWindow)}get time(){return this._time}get isInvalid(){return this._time<=0}async show(t){this.top=t,await this.floatWindow.show(t)}async update(t,r){this._time-=t,this.top!==r&&(this.top=r,await this.floatWindow.update(r))}};var Bh=60,Wh=1e3/30,Uh=3e3,Ua=class extends J{constructor(){super();this.isSupportFloat=!1;this.top=1;this.maxWidth=Bh;this.messages=[];this.display=[];this.timeGap=Wh;this.init()}async init(){let{nvim:t}=nn.workspace;this.isSupportFloat=!!await t.call("exists","*nvim_open_win");let r=await t.getOption("columns");this.maxWidth=Math.min(this.maxWidth,r)}async detect(){this.timer&&clearTimeout(this.timer);let{timeGap:t,display:r}=this,{top:n}=this;this.display=[];for(let o of r)o.isInvalid?o.dispose():(await o.update(t,n),n+=o.height,this.display.push(o));let{nvim:i}=nn.workspace,s=await i.getOption("lines")-1;for(;this.messages.length;){let o=this.messages[this.messages.length-1];if(n+o.height>s)break;this.messages.pop(),await o.show(n),this.display.push(o),n+=o.height}this.timer=setTimeout(()=>{this.detect()},this.timeGap)}show(t,r=Uh){let n=[].concat(t);if(n.length!==0){if(!this.isSupportFloat)return nn.window.showMessage(n.join(`
`));this.messages.push(new qi(n,this.maxWidth,r)),this.detect()}}dispose(){this.timer&&clearTimeout(this.timer),this.push(...this.display),this.messages=[],this.display=[],super.dispose()}},Z=new Ua;var Uf=j(require("child_process")),rt=j(require("coc.nvim")),Gf=j(require("os"));var $r=j(require("coc.nvim")),Fr=j(require("os")),pe=j(require("path")),Qs=j(cu());var If=j(require("child_process")),Nr=j(require("coc.nvim")),jf=j(Hf()),Mr=j(require("fs")),sr=j(require("path"));var Je=async e=>new Promise(t=>{Mr.default.exists(e,r=>{t(r)})}),C_=async(e,t)=>(await(0,jf.default)(t,{onlyFiles:!0,cwd:e,deep:10})).map(n=>(0,sr.join)(e,(0,sr.dirname)(n))),x_=e=>{if(e.length)return e.slice().sort((t,r)=>t.split(sr.sep).length-r.split(sr.sep).length)[0]},T_=async(e,t)=>x_(await C_(e,t)),at=async()=>{let e=Nr.workspace.workspaceFolder?Nr.Uri.parse(Nr.workspace.workspaceFolder.uri).fsPath:Nr.workspace.cwd;return await T_(e,["**/pubspec.yaml"])},P_=se.getlog("fs"),Ot=(e,t={})=>new Promise(r=>{P_(`executing command ${e}`);let n=0;(0,If.exec)(e,{encoding:"utf-8",...t},(i,s="",o="")=>{r({code:n,err:i,stdout:s,stderr:o})}).on("exit",i=>i&&(n=i))}),A_=async e=>new Promise(t=>{Mr.default.lstat(e,(r,n)=>{t({err:r,stats:n&&n.isSymbolicLink()})})}),li=async e=>{let{err:t,stats:r}=await A_(e);return!t&&r?new Promise(n=>{Mr.default.realpath(e,(i,s)=>{if(i)return n(e);n(s)})}):e},Xs=async(e,t)=>new Promise(r=>{Mr.default.readdir(e,t,(n,i)=>r(n?[]:i))}),Bf=async(e,t)=>new Promise((r,n)=>{Mr.default.readFile(e,t,(i,s)=>i?n(i):r(s))});var Re=se.getlog("sdk"),k_=(0,pe.join)("bin","snapshots","analysis_server.dart.snapshot"),D_=(0,pe.join)("bin",Fr.default.platform()==="win32"?"dart.bat":"dart"),O_=["~/snap/flutter/common/flutter"],Wf=class{constructor(){this._sdkHome="";this._state=!1;this._dartHome="";this._analyzerSnapshotPath="";this._dartCommand=""}get sdkHome(){return this._sdkHome}get state(){return this._state}get dartHome(){return this._dartHome}get analyzerSnapshotPath(){return this._analyzerSnapshotPath}get dartCommand(){return this._dartCommand}get flutterCommand(){return this._flutterCommand||"flutter"}async _hasValidFlutterSdk(){return await Je(this._sdkHome)&&await Je((0,pe.join)(this._sdkHome,"bin","flutter"))}async getVersion(){if(this._dartCommand){let{stderr:t}=await Ot(`${this._dartCommand} --version`);if(t){let r=t.match(/version:\s+(\d+)\.(\d+)\.(\d+)/);if(r)return Re(`dart version: v${r[1]}.${r[2]}.${r[3]}`),[parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3])]}}}async isVersionGreatOrEqualTo(t){let r=await this.getVersion();return r?r.every((n,i)=>n>=t[i]):!1}async init(t){this.config=t,await this._init()}async _init(){this._dartCommand=this.config.get("sdk.dart-command","");let t=this.config.get("sdk.dart-lookup","");this._fvmEnabled=this.config.get("fvm.enabled",!0),this._sdkHome=this.config.get("sdk.path","");let r=await this._hasValidFlutterSdk();r&&await this.initFlutterCommandsFromSdkHome();try{this._fvmEnabled&&!r&&(await this.initDartSdkHomeFromLocalFvm(),r=await this._hasValidFlutterSdk()),r||(await this.initDarkSdkHomeFromSearchPaths(),r=await this._hasValidFlutterSdk()),r||(await this.initDarkSdkHome(t),r=await this._hasValidFlutterSdk()),await this.initDartSdk(),this._state||(Re("Dart SDK not found!"),Re(JSON.stringify({dartHome:this._dartHome,analyzerSnapshotPath:this._analyzerSnapshotPath},null,2)))}catch(n){Re(n.message||"find dart sdk error!"),Re(n.stack)}}async initDarkSdkHomeFromSearchPaths(){try{let t=await this.findSdks();t.length>0&&(this._sdkHome=t[0].location,await this.initFlutterCommandsFromSdkHome())}catch(t){Re(`Error configuring sdk from searchPaths: ${t.message}}`)}}async initDartSdkHomeFromLocalFvm(){try{let t=$r.workspace.workspaceFolder?$r.Uri.parse($r.workspace.workspaceFolder.uri).fsPath:$r.workspace.cwd,r=(0,pe.join)(t,".fvm","flutter_sdk");await Je(r)?(Re("Found local fvm sdk"),this._sdkHome=r,await this.initFlutterCommandsFromSdkHome()):Re("No local fvm sdk")}catch(t){Re(`Error configuring local fvm sdk: ${t.message}}`)}}async initFlutterCommandsFromSdkHome(){this._flutterCommand=(0,pe.join)(this._sdkHome,"bin",Fr.default.platform()==="win32"?"flutter.bat":"flutter"),Re(`flutter command path => ${this.flutterCommand}`),await Je(this._flutterCommand)||Re("flutter command path does not exist"),this._dartHome=(0,pe.join)(this._sdkHome,"bin","cache","dart-sdk"),Re(`dart sdk home => ${this._dartHome}`),await Je(this._dartHome)||Re("dart sdk home path does not exist")}async initDarkSdkHome(t){try{let r;if(t.length==0)r=await(0,Qs.default)("dart");else{let{stdout:n}=await Ot(t);if(r=n,n.length==0)throw new Error("dart lookup returned empty string")}Re(`which dart command => ${r}`),r&&(r=await li(r),Re(`dart command path => ${r}`),this._dartHome=(0,pe.join)((0,pe.dirname)(r),".."),Re(`dart sdk home => ${this._dartHome}`))}catch(r){Re(`dart command not found: ${r.message}`)}}async initDartSdk(){this._analyzerSnapshotPath=(0,pe.join)(this._dartHome,k_),Re(`analyzer path => ${this._analyzerSnapshotPath}`),this._state=await Je(this._analyzerSnapshotPath),this._dartCommand||(this._dartCommand=(0,pe.join)(this.dartHome,D_),Fr.default.platform()==="win32"&&(await Je(this._dartCommand)||(this._dartCommand=this._dartCommand.replace(/bat$/,"exe")))),Re(`dart command path => ${this._dartCommand}`)}execDartCommand(t,r={}){return Ot(`${this.dartCommand} ${t}`,r)}execFlutterCommand(t,r={}){return Ot(`${this.flutterCommand} ${t}`,r)}async versionForSdk(t){let r=await Ot(`cat ${(0,pe.join)(t,"version")}`);if(!r.err)return r.stdout}async sdkWithLookup(t,r){let n;if(t.length==0)n=(await(0,Qs.default)("flutter")).trim();else{let{stdout:i}=await Ot(t);if(n=i.trim(),i.length==0)return}if(Re(`which flutter command => ${n}`),n){if(n=await li(n),n=n.trim(),(n.toLowerCase().endsWith((0,pe.join)("bin","flutter"))||n.toLowerCase().endsWith((0,pe.join)("bin","flutter.bat")))&&(n=(0,pe.join)(n,"..","..")),!await Je((0,pe.join)(n,"bin","flutter")))return;let s=await this.versionForSdk(n);if(s)return{location:n,version:s,isFvm:!1,isCurrent:r==n}}}async findSdks(){let t=[],r=this.sdkHome.length==0?"":await li(this.sdkHome),n=this.config.get("sdk.flutter-lookup",""),i=this.config.get("fvm.enabled",!0),s=(0,Fr.homedir)(),o=await this.sdkWithLookup(n,r);o&&t.push(o);let a=[...this.config.get("sdk.searchPaths",[]),...O_];Re(`searchPaths: ${a}`);for(let c of a){if(c=c.replace(/^~/,s).trim(),await Je((0,pe.join)(c,"bin","flutter"))){let g=await this.versionForSdk(c);g&&!t.some(h=>h.location==c)&&t.push({location:c,isFvm:!1,version:g,isCurrent:c==r});continue}let m=await Xs(c);for(let g of m){let h=(0,pe.join)(c,g).trim();if(!await Je((0,pe.join)(h,"bin","flutter"))||t.some(x=>x.location==h))continue;let C=await this.versionForSdk(h);t.push({location:h,isFvm:!1,version:C||"unknown",isCurrent:h==r})}}if(i){let c=(0,pe.join)(s,"fvm","versions"),p=(0,pe.join)(s,"fvm",".settings");try{if(await Je(p)){let h=await Bf(p),R=JSON.parse(h.toString());typeof R.cachePath=="string"&&R.cachePath.trim()!=""&&(c=R.cachePath)}}catch(g){Re(`Failed to load fvm settings: ${g.message}`)}let m=await Xs(c);for(let g of m){let h=(0,pe.join)(c,g).trim();if(!await Je((0,pe.join)(h,"bin","flutter"))||t.some(x=>x.location==h))continue;let C=await this.versionForSdk(h);t.push({location:h,fvmVersion:g,isFvm:!0,version:C?`${g} (${C})`:g,isCurrent:h==r})}}return t}},ce=new Wf;var or=se.getlog("server"),Vf=class extends J{constructor(){super();this.onHandler=[];this.isAutoScroll=!1;this._onError=t=>{this.task=void 0,or(`server error: ${t.message}`)};this._onExit=t=>{this.task=void 0,rt.workspace.getConfiguration("flutter").get("autoHideDevLog",!1)&&this.outputChannel&&this.outputChannel.hide(),or(`server exit with: ${t}`)};this.push({dispose:()=>{if(this.task)try{this.task.kill(),this.task=void 0}catch(t){or(`dispose server error: ${t.message}`)}}})}devLog(t){this.outputChannel&&this.outputChannel.append(t)}get state(){return!!this.task&&this.task.stdin.writable}async start(t){if(this.task&&this.task.stdin.writable)return Z.show("Flutter dev server is running!"),!1;let r=await at();return r?(or(`server start at: ${r}, args: ${t}`),Z.show("Start flutter dev server..."),this.outputChannel?this.outputChannel.clear():this.outputChannel=se.devOutchannel,this.task=(0,Uf.spawn)(ce.flutterCommand,t,{cwd:r,detached:!1,shell:Gf.default.platform()==="win32"?!0:void 0}),this.task.on("exit",this._onExit),this.task.on("error",this._onError),rt.workspace.getConfiguration("flutter").get("autoOpenDevLog",!1)&&this.openDevLog(!0),this.onHandler.length&&(this.onHandler.forEach(i=>i()),this.onHandler=[]),!0):(Z.show("Flutter project workspaceFolder not found!"),!1)}onExit(t){let r=()=>{this.task.on("exit",t)};this.task?r():this.onHandler.push(r)}onError(t){this.task?this.task.on("error",t):this.onHandler.push(()=>{this.task.on("error",t)})}onData(t,r){let n=()=>{this.task[t].on("data",i=>{let s=i.toString();this.devLog(s),r(s.split(vr))})};this.task&&this.task[t]?n():this.onHandler.push(n)}onStdout(t){this.onData("stdout",t)}onStderr(t){this.onData("stderr",t)}sendCommand(t){!t||(this.task&&this.task.stdin.writable?this.task.stdin.write(t):Z.show("Flutter server is not running!"))}clearDevLog(){this.outputChannel&&this.outputChannel.clear()}async openDevLog(t){let n=rt.workspace.getConfiguration("flutter").get("openDevLogSplitCommand","");if(this.outputChannel)if(!n)this.outputChannel.show(t);else{let i=await rt.workspace.nvim.window;await rt.workspace.nvim.command(`${n} output:///${yr}`),t||rt.workspace.nvim.call("win_gotoid",[i.id])}setTimeout(()=>{this.autoScrollLogWin()},1e3)}async autoScrollLogWin(){if(this.isAutoScroll)return;this.isAutoScroll=!0;let t=await rt.workspace.nvim.buffers;for(let r of t){let n=await r.name;if(n===`output:///${yr}`){if(!await r.attach(!1)){or(`Attach buf ${n} error`),this.isAutoScroll=!1;return}this.isAutoScroll=!0,r.listen("lines",async()=>{let s=await rt.workspace.nvim.windows;if(!(!s||!s.length)){for(let o of s)if(await(await o.buffer).name===`output:///${yr}`){let p=await r.length,m=await rt.workspace.nvim.window;if(o.id===m.id)return;o.setCursor([p,0]);break}}}),r.listen("detach",()=>{this.isAutoScroll&&(or(`Unexpected detach buf ${n}`),this.isAutoScroll=!1)}),this.push(rt.Disposable.create(()=>{if(this.isAutoScroll){this.isAutoScroll=!1;try{r.removeAllListeners(),r.detach()}catch(s){or(`Detach error ${s.message||s}`)}}}));break}}this.isAutoScroll=!1}},le=new Vf;var Ks=j(require("child_process")),zf=j(require("coc.nvim")),Ys=j(require("os"));var Lt=se.getlog("devtools-server"),Xf=class extends J{constructor(){super();this.onHandler=[];this._onError=t=>{this.launchDevToolsTask=void 0,Lt(`devtools server error: ${t.message}`)};this._onExit=t=>{this.launchDevToolsTask=void 0,Lt(`devtools server exit with: ${t}`)};this.push({dispose:()=>{if(this.port=void 0,this.PID=void 0,this.host=void 0,this.launchDevToolsTask)try{this.launchDevToolsTask.kill(),this.launchDevToolsTask=void 0}catch(t){Lt(`dispose server error: ${t.message}`)}}})}get state(){return!!(this.launchDevToolsTask&&this.port&&this.host&&this.PID)}get devToolsUri(){return this.state?`${this.host}:${this.port}`:void 0}async start(){if(this.state)return Z.show("Flutter devtools is running!"),!1;let t=await at();return t?(Z.show("Launching flutter devtools..."),this.launchDevToolsTask=(0,Ks.spawn)(ce.dartCommand,["pub","global","run","devtools","--machine","--try-ports","10"],{cwd:t,detached:!1,shell:Ys.default.platform()==="win32"?!0:void 0}),this.launchDevToolsTask.on("exit",this._onExit),this.launchDevToolsTask.on("error",this._onError),this.onHandler.length&&(this.onHandler.forEach(r=>r()),this.onHandler=[]),!0):(Z.show("Flutter project workspaceFolder not found!"),!1)}onStdout(t){let r=()=>{this.launchDevToolsTask.stdout.on("data",n=>{let i=n.toString();try{let s=JSON.parse(i);this.port=s.params.port,this.PID=s.params.pid,this.host=s.params.host,Lt(`Devtools running at ${this.host}:${this.port} with PID: ${this.PID}`)}catch(s){Lt(`error while parsing ${i}:`),Lt(s)}t()})};this.launchDevToolsTask&&this.launchDevToolsTask.stdout?r():this.onHandler.push(r)}onStderr(t){let r=()=>{this.launchDevToolsTask.stderr.on("data",n=>{let i=n.toString();if(i.match(/No active package devtools/g)){let o=zf.window.showPrompt("Flutter pub global devtools has not been activated. Activate now?");this.handleDevToolsActivationPrompt(o,t)}else Lt(i)})};this.launchDevToolsTask&&this.launchDevToolsTask.stderr?r():this.onHandler.push(r)}async handleDevToolsActivationPrompt(t,r){if(await t){let i=await at();if(!i)return Z.show("Flutter project workspaceFolder not found!"),!1;this.activateDevToolsTask=(0,Ks.spawn)(ce.dartCommand,["pub","global","activate","devtools"],{cwd:i,detached:!1,shell:Ys.default.platform()==="win32"?!0:void 0}),this.activateDevToolsTask.on("exit",()=>{r(),this.activateDevToolsTask=void 0}),this.activateDevToolsTask.on("error",s=>{Z.show(`Error activating devtools: ${s.message}`),Lt(s.message),this.activateDevToolsTask=void 0}),this.push({dispose:()=>{if(this.activateDevToolsTask)try{this.activateDevToolsTask.kill(),this.activateDevToolsTask=void 0}catch(s){Lt(`Error disposing activateDevToolsTask: ${s.message}`)}}})}else Z.show('You must run "Flutter pub global activate devtools" to launch a devtools browser debugger.')}},Vt=new Xf;var Js=j(require("coc.nvim"));var Zs=e=>e.trim().replace(/\s+/g," ").split(vr);var qt=(e,t)=>{Js.commands.titles.set(e,t)},Nt=e=>{Js.commands.titles.delete(e)};var Qf=j(require("child_process")),eo=j(require("os"));function to(e,t){e=[].concat(e);let r=process.platform;r==="linux"&&eo.default.release().indexOf("Microsoft")!==-1&&(r="win32");let n;switch(r){case"win32":{n="cmd.exe",t&&e.unshift(t);break}case"darwin":{n="open",t&&(e.unshift(t),e.unshift("-a"));break}default:{n=t||"xdg-open";break}}return r==="win32"&&(e=e.map(i=>i.replace(/&/g,"^&")),e=["/c","start",'""'].concat(e)),Qf.default.spawn(n,e,{detached:!0,shell:eo.default.platform()==="win32"?!0:void 0})}var zt=se.getlog("dev-command"),ro={hotReload:{cmd:"r",desc:"Hot reload"},hotRestart:{cmd:"R",desc:"Hot restart"},debugDumpAPP:{cmd:"w",desc:"You can dump the widget hierarchy of the app (debugDumpApp)",callback:()=>{le.openDevLog()}},debugDumpRenderTree:{cmd:"t",desc:"To dump the rendering tree of the app (debugDumpRenderTree)",callback:()=>{le.openDevLog()}},debugDumpLayerTree:{cmd:"L",desc:"For layers (debugDumpLayerTree)",callback:()=>{le.openDevLog()}},debugDumpSemanticsTraversalOrder:{cmd:"S",desc:"Accessibility (debugDumpSemantics) for traversal order"},debugDumpSemanticsHitTestOrder:{cmd:"U",desc:"Accessibility (debugDumpSemantics) for inverse hit test order"},showWidgetInspectorOverride:{cmd:"i",desc:"To toggle the widget inspector (WidgetsApp.showWidgetInspectorOverride)"},debugPaintSizeEnabled:{cmd:"p",desc:"To toggle the display of construction lines (debugPaintSizeEnabled)"},defaultTargetPlatform:{cmd:"o",desc:"To simulate different operating systems, (defaultTargetPlatform)"},elevationChecker:{cmd:"z",desc:"To toggle the elevation checker"},showPerformanceOverlay:{cmd:"P",desc:"To display the performance overlay (WidgetsApp.showPerformanceOverlay)"},debugProfileWidgetBuilds:{cmd:"a",desc:"To enable timeline events for all widget build methods, (debugProfileWidgetBuilds)"},screenshot:{cmd:"s",desc:"To save a screenshot to flutter.png"},detach:{cmd:"d",desc:"Detach server"},quit:{cmd:"q",desc:"Quit server"},copyProfilerUrl:{desc:"Copy the observatory debugger and profiler web page to the system clipboard (register +)",callback:e=>{e.copyProfilerUrl()}},openProfiler:{desc:"Observatory debugger and profiler web page",callback:e=>{e.openProfiler()}},openDevToolsProfiler:{desc:"Load DevTools page in an external web browser",callback:e=>{e.openDevToolsProfiler()}},openDevLog:{desc:"Open flutter dev server log",callback:()=>{le.state&&le.openDevLog()}},clearDevLog:{desc:"Clear the flutter dev server log",callback:()=>{le.state&&le.clearDevLog()}}},no=class extends J{constructor(t){super();this.cmds=[];this.onError=t=>{zt(`devServer error: ${t.message}
${t.stack}`),this.unRegisterCommands(),Z.show(`${t.message}`)};this.onExit=t=>{zt(`devServer exit with: ${t}`),this.unRegisterCommands(),t!==0&&t!==1&&Z.show(`Flutter server exist with ${t}`)};this.onStdout=t=>{t.forEach(r=>{let n=r.match(/^\s*An Observatory debugger and profiler on .* is available at:\s*(https?:\/\/127\.0\.0\.1:\d+\/.+\/)$/);n&&(this.profilerUrl=n[1],Hr.workspace.getConfiguration("flutter").get("runDevToolsAtStartup",!1)&&this.openDevToolsProfiler())})};this.onStderr=()=>{};this.daemon=t,["run","attach"].forEach(r=>{let n=`${Pt}.${r}`;this.push(Hr.commands.registerCommand(n,this[`${r}Server`],this)),this.push(function(){return qt(n,`${r} flutter server`),{dispose(){Nt(n)}}}())}),this.push(le),zt("register dev command"),this.push(Vt)}runServer(...t){this.execute("run",t)}attachServer(...t){this.execute("attach",t)}async execute(t,r){zt(`${t} dev server, devServer state: ${le.state}`);let n;this.daemon.currentDevice&&!r.some(s=>s==="-d")?n=[t,"-d",this.daemon.currentDevice.id]:n=[t],await le.start(n.concat(r))&&(le.onError(this.onError),le.onExit(this.onExit),le.onStdout(this.onStdout),le.onStderr(this.onStderr),this.registerCommands())}registerCommands(){zt("register commands"),this.cmds.push(...Object.keys(ro).map(t=>{let r=`${Pt}.dev.${t}`;qt(r,ro[t].desc);let n=Hr.commands.registerCommand(r,this.execCmd(ro[t]));return{dispose(){Nt(r),n.dispose()}}}))}unRegisterCommands(){zt("unregister commands"),this.cmds&&this.cmds.forEach(t=>{t.dispose()}),this.cmds=[]}execCmd(t){return()=>{le.state?(t.cmd&&le.sendCommand(t.cmd),t.callback&&t.callback(this)):Z.show("Flutter server is not running!")}}async copyProfilerUrl(){if(!!this.profilerUrl){if(le.state){Hr.workspace.nvim.command(`let @+='${this.profilerUrl}'`);return}Z.show("Flutter server is not running!")}}openProfiler(){if(!!this.profilerUrl){if(le.state)try{return to(this.profilerUrl)}catch(t){zt(`Open browser fail: ${t.message}
${t.stack}`),Z.show(`Open browser fail: ${t.message||t}`)}Z.show("Flutter server is not running!")}}openDevToolsProfiler(){!this.profilerUrl||!le.state||(Vt.state?this.launchDevToolsInBrowser():(Vt.start(),Vt.onStdout(()=>{this.launchDevToolsInBrowser()}),Vt.onStderr(()=>{this.openDevToolsProfiler()})))}launchDevToolsInBrowser(){if(Vt.state)try{let t=`http://${Vt.devToolsUri}/#/?uri=ws${encodeURIComponent(this.profilerUrl)}`;return to(t)}catch(t){zt(`Open browser fail: ${t.message}
${t.stack}`),Z.show(`Open browser fail: ${t.message||t}`)}}dispose(){super.dispose(),this.unRegisterCommands()}};var Et=j(require("coc.nvim"));var L_=se.getlog("global-commands"),io=()=>async({cmd:e,getArgs:t},...r)=>{let n=[];t&&(n=await t()),r.length&&(n=n.concat(r));let{err:i,stdout:s,stderr:o}=await ce.execFlutterCommand(`${e} ${n.join(" ")}`),a=se.devOutchannel;s&&a.append(`
${s}
`),o&&a.append(`
${o}
`),i&&a.append([i.message,i.stack].join(`
`)),a.show()},q_=[{cmd:"upgrade",desc:"flutter upgrade",execute:io()},{cmd:"doctor",desc:"flutter doctor",execute:io()},{cmd:"create",desc:"flutter create",execute:io(),getArgs:async()=>(await Et.window.requestInput("Input project name and other params: ")).split(" ")},{cmd:"pub get",name:"pub.get",desc:"flutter pub get",execute:async()=>{let e=await at();if(L_(`pub get command, workspace: ${e}`),!e){Z.show("Flutter project workspaceFolder not found!");return}let{code:t,err:r,stdout:n,stderr:i}=await ce.execFlutterCommand("pub get",{cwd:e});Z.show(Zs(n)),(r||t)&&Z.show(Zs(i))}},{cmd:"devices",desc:"open devices list",execute:async(e,...t)=>{Et.workspace.nvim.command(`CocList FlutterDevices ${t.join(" ")}`)}},{cmd:"emulators",desc:"open emulators list",execute:async()=>{Et.workspace.nvim.command("CocList FlutterEmulators")}}],so=class extends J{constructor(){super();q_.forEach(t=>{let{desc:r,execute:n,name:i}=t,s=`${Pt}.${i||t.cmd}`;this.push(Et.commands.registerCommand(s,async(...o)=>{let a=Et.window.createStatusBarItem(0,{progress:!0});this.push(a),a.text=r,a.show(),await n(t,...o),this.remove(a)}),Et.Disposable.create(()=>{Nt(s)})),qt(s,r)})}};var ar=j(require("coc.nvim"));var oo=class extends J{constructor(t){super();this.requestType="dart/textDocument/super";this.cmdId=`${Pt}.gotoSuper`;this.push(ar.commands.registerCommand(this.cmdId,async()=>{if(!t.client)return Z.show("analyzer LSP server is not running");let r=await ar.workspace.document;if(!r||!r.textDocument||r.textDocument.languageId!=="dart")return;let n=await ar.window.getCursorPosition(),i={textDocument:{uri:r.uri},position:n},s=await t.client.sendRequest(this.requestType,i);s&&ar.workspace.jumpTo(s.uri,s.range.start)})),qt(this.cmdId,"jump to the location of the super definition of the class or method")}dispose(){super.dispose(),Nt(this.cmdId)}};var Kf=j(require("coc.nvim"));var ao=class extends J{constructor(t){super();this.restartCmdId=`${Pt}.lsp.restart`;this.push(Kf.commands.registerCommand(this.restartCmdId,async()=>{if(!t.client)return Z.show("analyzer LSP server is not running");await t.restart()})),qt(this.restartCmdId,"restart the lsp server")}dispose(){super.dispose(),Nt(this.restartCmdId)}};var uo=class extends J{constructor(t,r){super();this.push(new no(r),new so,new ao(t),new oo(t))}};var Jt=j(require("coc.nvim")),Ip=j(Hp());var jp=()=>{let e=Jt.workspace.getConfiguration("flutter").get("provider.hot-reload",!0),t;e&&(t=Jt.workspace.onDidSaveTextDocument(n=>{if(n.languageId==="dart"&&le.state){let i=Jt.diagnosticManager.getDiagnostics(n.uri);i&&i.find(o=>o.source==="dart"&&o.severity===Ip.DiagnosticSeverity.Error)!=null||le.sendCommand("r")}}));let r=Jt.workspace.onDidChangeConfiguration(n=>{if(n.affectsConfiguration("flutter")){let i=Jt.workspace.getConfiguration("flutter").get("provider.hot-reload",!0);e&&!i?t&&(t.dispose(),t=void 0):!e&&i&&(t=Jt.workspace.onDidSaveTextDocument(s=>{s.languageId==="dart"&&le.state&&le.sendCommand("r")}))}});return{dispose(){t&&t.dispose(),r.dispose()}}};var xi=j(require("coc.nvim"));var US=se.getlog("Pub provider"),Bp=()=>xi.workspace.onDidSaveTextDocument(async e=>{if(e.uri&&e.uri.endsWith("pubspec.yaml")){if(!await at()){US("Flutter project not found!");return}xi.commands.executeCommand("flutter.pub.get")}});var Ca=class extends J{constructor(){super();this.push(jp(),Bp())}};var Ze=j(require("coc.nvim")),Kp=j(require("os"));var qn=j(require("coc.nvim"));var Wp=class extends J{constructor(){super(...arguments);this.isLSPReady=!1;this.statusBar=void 0}get isInitialized(){return this.statusBar!=null}ready(){this.isLSPReady=!0,this.progress(!1)}init(){this.statusBar=qn.window.createStatusBarItem(0,{progress:!1}),this.push(this.statusBar),this.push(qn.workspace.registerAutocmd({event:"BufEnter",request:!1,callback:async()=>{var t;this.isLSPReady&&((await qn.workspace.document).filetype==="dart"?this.isLSPReady&&((t=this.statusBar)==null||t.show()):this.hide())}}))}updateDevice(t,r){this.currentDevice=t,r?(this.loadingDevices=!0,this.show("Loading devices...",!0)):this.loadingDevices?(this.loadingDevices=!1,this.progress(!1)):this.show(this.currentDevice||"No device available")}restartingLsp(){this.isLSPReady=!1,this.loadingDevices=void 0,this.currentDevice=void 0,this.show("restartingLsp...",!0)}show(t,r){this.statusBar&&(this.statusBar.text=t,r!==void 0&&(this.statusBar.isProgress=r),this.statusBar.show())}hide(){this.statusBar&&this.statusBar.hide()}progress(t=!0){this.statusBar&&(this.statusBar.isProgress=t,!t&&this.loadingDevices!=null?this.show(this.currentDevice||"No device available"):this.hide())}dispose(){super.dispose(),this.statusBar=void 0}},it=new Wp;var ht=j(require("coc.nvim"));var GS=se.getlog("lsp-closing-labels"),VS="flutter-closing-label",Up="FlutterClosingLabel",Nn={},xa=class extends J{constructor(t){super();this.nsIds={};this.onClosingLabels=async t=>{let{uri:r,labels:n}=t;if(!n.length)return;let i=await ht.workspace.document,s=ht.workspace.getDocument(r);if(!s||!i)return;let o=await ht.workspace.nvim.mode;if(o.mode&&o.mode.startsWith("i")){Nn[r]=t;return}this.updateClosingLabels(s,t)};this.checkClosingLabels=async()=>{let t=await ht.workspace.document;if(!t||!Nn[t.uri])return;let r=Nn[t.uri];delete Nn[t.uri],this.onClosingLabels(r)};this.updateClosingLabels=async(t,r)=>{let{nvim:n}=ht.workspace,{buffer:i}=t,{uri:s,labels:o}=r;this.nsIds[s]!==void 0&&i.clearNamespace(this.nsIds[s],1,-1),this.nsIds[s]=await n.createNamespace(VS),n.pauseNotification();for(let a of o)i.setVirtualText(this.nsIds[s],a.range.end.line,[[`// ${a.label}`,Up]]);await n.resumeNotification()};this.init(t),GS("register closing labels")}async init(t){let{nvim:r}=ht.workspace;!r.hasFunction("nvim_buf_set_virtual_text")||(await r.command(`highlight default link ${Up} Comment`),t.onNotification("dart/textDocument/publishClosingLabels",this.onClosingLabels),this.push(ht.workspace.registerAutocmd({event:"InsertLeave",pattern:"*.dart",callback:this.checkClosingLabels}),ht.Disposable.create(()=>{Nn={}})))}dispose(){super.dispose();let t=Object.keys(this.nsIds);t.length&&t.forEach(r=>{let n=ht.workspace.getDocument(r);!n||n.buffer.clearNamespace(this.nsIds[r],1,-1)})}};var Gp=async(e,t,r,n,i)=>{let s=await i(e,t,r,n);if(!s)return s;s=s.map(a=>a.kind&&a.kind.startsWith("quickfix.import")?{...a,isPreferred:!0}:a);let o=s.slice();return s.some(a=>{if(a.title==="Wrap with widget..."&&a.edit){let c=a.edit;if(!c||!c.documentChanges)return!0;let p=c.documentChanges;if(!p||p.length===0)return!0;let m={...a,title:"Delete this widget",edit:{...c,documentChanges:[{...p[0],edits:[{...p[0].edits[0]||{},newText:""}]}]}};return o.push(m),!0}return!1}),o};var zp=j(require("coc.nvim"));var st=j(require("coc.nvim")),zS=/^(.*)\(\)$/,XS=/^(.*)\(\)$/,QS=/^([^ ]+?:\s+),$/,Vp=e=>t=>{let{label:r,insertTextFormat:n}=t;if(t.insertTextFormat===st.InsertTextFormat.Snippet&&t.filterText&&delete t.filterText,t.textEdit&&delete t.textEdit,t.insertTextFormat===st.InsertTextFormat.Snippet&&t.insertText&&t.insertText.endsWith("${1:}")&&(t.insertTextFormat=st.InsertTextFormat.PlainText,t.insertText=t.insertText.slice(0,-5)),r==="import '';"&&n!==st.InsertTextFormat.Snippet)return t.insertText="import '${1}';${0}",t.insertTextFormat=st.InsertTextFormat.Snippet,t;if(r==="setState(() {});"&&n!==st.InsertTextFormat.Snippet)return t.insertText=["setState(() {","	${1}","});${0}"].join(`
`),t.insertTextFormat=st.InsertTextFormat.Snippet,t;let i=r.match(QS);if(i)return t.insertText=`${i[1]}\${1},\${0}`,t.insertTextFormat=st.InsertTextFormat.Snippet,t;if(e.completeFunctionCalls&&t.insertTextFormat!==st.InsertTextFormat.Snippet){if(i=r.match(XS),i)return t.insertText=`${i[1]}()\${0}`,t.insertTextFormat=st.InsertTextFormat.Snippet,t;if(i=r.match(zS),i)return t.insertText=`${i[1]}(\${1})\${0}`,t.insertTextFormat=st.InsertTextFormat.Snippet,t}return t};var Xp=async(e,t,r,n,i)=>{let s=await i(e,t,r,n),o;s.isIncomplete!==void 0?o=s.items:o=s;let a=zp.workspace.getConfiguration("dart"),c=Vp({completeFunctionCalls:a.get("completeFunctionCalls",!0)});return o=o.map(c),s.isIncomplete!==void 0?{items:o,isIncomplete:s.isIncomplete}:o};var Wt=j(require("coc.nvim"));var Qp=async(e,t,r)=>{if(e==="refactor.perform"){let n=6;if(t&&t.length===n){let i=-32011,s=t[0],o=5,a;switch(s){case"EXTRACT_METHOD":if(a=await Wt.window.requestInput("Enter a name for the method","NewMethod"),!a)return;if(!Hn.test(a))return Wt.window.showErrorMessage("Enter a valid method name");t[o]=Object.assign({},t[o],{name:a});break;case"EXTRACT_WIDGET":if(a=await Wt.window.requestInput("Enter a name for the widget","NewWidget"),!a)return;if(!ja.test(a))return Wt.window.showErrorMessage("Enter a valid widget name");t[o]=Object.assign({},t[o],{name:a});break;case"EXTRACT_LOCAL_VARIABLE":if(a=await Wt.window.requestInput("Enter a name for the variable","NewVariable"),!a)return;if(!Ba.test(a))return Wt.window.showErrorMessage("Enter a valid variable name");t[o]=Object.assign({},t[o],{name:a});break}try{return await r(e,t)}catch(c){if(Wt.window.showErrorMessage(c.message),(c==null?void 0:c.code)===i){Wt.window.showErrorMessage(c.message);return}else throw c}}}return r(e,t)};var Mn=se.getlog("lsp-server"),Yp=class{get command(){return ce.dartCommand}get args(){return[ce.analyzerSnapshotPath,"--lsp"]}},Ta=class extends J{constructor(t){super();this.execOptions=new Yp;this.daemon=t,this.init()}get client(){return this._client}async init(){this.outchannel=Ze.window.createOutputChannel("flutter-lsp"),this.push(this.outchannel);let t=Ze.workspace.getConfiguration("flutter"),r=t.get("lsp.debug");if(ce.state||(await ce.init(t),this.push(this.daemon),this.daemon.start()),!ce.state){Mn("flutter SDK not found!");return}let n={run:this.execOptions,debug:this.execOptions},i=t.get("lsp.initialization",{onlyAnalyzeProjectsWithOpenFiles:!0,suggestFromUnimportedLibraries:!0,closingLabels:!0}),s=await ce.isVersionGreatOrEqualTo([2,6,0]);Mn(`rightVersion ${s}`);let o={disableDynamicRegister:!s,documentSelector:[{scheme:"file",language:"dart"}],initializationOptions:i,outputChannel:this.outchannel,revealOutputChannelOn:Ze.RevealOutputChannelOn.Never,middleware:{provideCompletionItem:t.get("provider.enableSnippet",!0)?Xp:void 0,provideCodeActions:Gp,executeCommand:Qp,workspace:{didChangeWorkspaceFolders(c,p){if(c.added.length&&ce.sdkHome!==""){let m=t.get("workspaceFolder.ignore",[]).concat(ce.sdkHome).map(g=>(g=g.replace(/^(~|\$HOME)/,(0,Kp.homedir)()),Ze.Uri.file(g).toString()));c.added=c.added.filter(g=>!m.some(h=>g.uri.startsWith(h)))}(c.added.length||c.removed.length)&&p(c)}}}},a=new Ze.LanguageClient("flutter","flutter analysis server",n,o,r);this._client=a,it.isInitialized||(it.init(),this.push(it)),a.onReady().then(()=>{Mn("analysis server ready!"),i.closingLabels&&this.push(new xa(a)),it.ready()}).catch(c=>{it.hide(),Mn(c.message||"start analysis server fail!"),Mn(c.stack)}),this.push(Ze.services.registLanguageClient(a))}async reloadSdk(){let t=Ze.workspace.getConfiguration("flutter");await ce.init(t)}async restart(){var t,r,n;it.restartingLsp(),await this.reloadSdk(),await((t=this._client)==null?void 0:t.stop()),this.daemon.stop(),this.daemon.start(),(r=this._client)==null||r.onReady().then(()=>{it.ready()}),(n=this._client)==null||n.start()}};var Pi=j(require("coc.nvim"));var Aa=j(require("coc.nvim")),ka=j(Ti()),Da=class{constructor(t){this.name="FlutterDevices";this.description="flutter devices list";this.defaultAction="select";this.actions=[];this.daemon=t,this.actions.push({name:"select",multiple:!1,execute:async(r,n)=>{if(Array.isArray(r))return;let i=r.data;t.selectDevice(i)}}),this.actions.push({name:"select and run",multiple:!1,execute:async(r,n)=>{if(Array.isArray(r))return;let i=r.data;t.selectDevice(i),Aa.commands.executeCommand("flutter.run",...n.args)}}),this.actions.push({name:"run",multiple:!1,execute:async(r,n)=>{Array.isArray(r)||Aa.commands.executeCommand("flutter.run","-d",r.data.deviceId,...n.args)}})}async loadItems(){return this.daemon.devices.map(r=>({label:`${ka.default.yellow(r.name)} \u2022 ${ka.default.gray(`${r.id} \u2022 ${r.platform}`)}`,filterText:r.name,data:r}))}},Eh=Da;var Oa=j(Ti());var La=class{constructor(){this.name="FlutterEmulators";this.description="flutter emulators list";this.defaultAction="run";this.actions=[];this.actions.push({name:"run",multiple:!1,execute:async t=>{Array.isArray(t)||(Z.show(`launch emulator ${t.data.id}`),await ce.execFlutterCommand(`emulators --launch ${t.data.id}`))}})}async loadItems(){let{err:t,stdout:r}=await ce.execFlutterCommand("emulators"),n=[];return t||(n=r.split(vr).filter(i=>i.split("\u2022").length===4).map(i=>{let s=i.split("\u2022");return{name:s[1].trim(),id:s[0].trim(),platform:s[2].trim(),system:s[3].trim()}})),n.map(i=>({label:`${Oa.default.yellow(i.id)} \u2022 ${Oa.default.gray(`${i.name} \u2022 ${i.platform} \u2022 ${i.system}`)}`,filterText:i.name,data:i}))}},Ch=La;var tn=j(require("coc.nvim")),$n=j(Ti());var xh=j(require("path")),cw=se.getlog("SdksList"),qa=class{constructor(t){this.name="FlutterSDKs";this.description="list of local flutter sdks";this.defaultAction="switch";this.actions=[];this.actions.push({name:"switch",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;if(n.isCurrent)return;let i=tn.workspace.getConfiguration("flutter");n.isFvm?(await Ot(`fvm use ${n.fvmVersion}`),i.update("sdk.path",(0,xh.join)(".fvm","flutter_sdk")),cw(`swithed to ${n.version} using fvm`)):i.update("sdk.path",n.location),await t.reloadSdk(),await tn.commands.executeCommand("flutter.pub.get"),await t.restart()}}),this.actions.push({name:"global switch",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;if(n.isCurrent)return;tn.workspace.getConfiguration("flutter").update("sdk.path",n.location,!0),await t.restart(),tn.commands.executeCommand("flutter.pub.get")}})}async loadItems(){return(await ce.findSdks()).map(r=>({label:`${r.isCurrent?$n.default.yellow(r.version)+$n.default.bold(" (current)"):$n.default.yellow(r.version)} \u2022 ${$n.default.gray(`${r.location}`)}`,filterText:r.location,data:r}))}},Th=qa;var Na=class extends J{constructor(t,r){super();this.push(Pi.listManager.registerList(new Eh(r)),Pi.listManager.registerList(new Ch),Pi.listManager.registerList(new Th(t)))}};var Ph=j(require("child_process")),Ah=j(require("coc.nvim")),kh=j(require("os"));var ot=se.getlog("daemon"),lw=se.getlog("daemon_output"),Dh="selectedDeviceId",Ma=class extends J{constructor(){super();this.eventHandlers={};this.currentId=1;this._devices=new Map;this.onStdout=t=>{let r=t.toString().trim();if(r.match(/^\[{.*}\]$/)){let n=JSON.parse(r)[0];this.onMessage(n)}else lw(r)};this.onMessage=t=>{if(ot(`got message: ${JSON.stringify(t,null,2)}`),!t.event){ot("Message without event");return}if(!(t.event in this.eventHandlers)){ot(`Unhandled event: ${t.event}`);return}this.eventHandlers[t.event](t.params)};this.onExit=t=>{this.process=void 0,ot(`daemon exited with: ${t}`)};this.onError=t=>{this.process=void 0,ot(`daemon error: ${t}`)};this.logMessage=t=>{if(!t||!("message"in t)){ot("got invalid logmessage event");return}Z.show(t.message)};this.connected=t=>{it.updateDevice(void 0,!0),this.sendRequest({id:this.currentId++,method:"device.enable"})};this.deviceAdded=t=>{if(!t){ot("got invalid device.added event");return}let r=t;ot(`New device: ${r.name}`),this._devices.set(r.id,r),(!this._currentDevice||r.id==this.selectedDeviceId)&&this.updateCurrentDevice()};this.deviceRemoved=t=>{var n;if(!t){ot("got invalid device.added event");return}let r=t;this._devices.delete(r.id),((n=this._currentDevice)==null?void 0:n.id)==r.id&&this.updateCurrentDevice()};this.selectedDeviceId=this.config.get(Dh),this.push({dispose:()=>{var t;try{(t=this.process)==null||t.kill(),this.process=void 0}catch(r){ot(`dispose server error: ${r.message}`)}}}),this.eventHandlers["daemon.logMessage"]=this.logMessage,this.eventHandlers["daemon.connected"]=this.connected,this.eventHandlers["device.added"]=this.deviceAdded,this.eventHandlers["device.removed"]=this.deviceRemoved}get currentDevice(){return this._currentDevice}get devices(){return[...this._devices.values()]}get config(){return Ah.workspace.getConfiguration("flutter")}async sendRequest(t){if(!this.process||!this.process.stdin.writable){ot(`Daemon not running but got request: ${JSON.stringify(t)}`);return}let r=`[${JSON.stringify(t)}]
`;this.process.stdin.write(r)}async start(){var i;if(this.process&&this.process.stdin.writable)return ot("Tried starting daemon while it was already running"),!1;let t=await at();if(!t)return Z.show("Flutter project workspaceFolder not found!"),!1;(i=this.process)==null||i.kill();let r=["daemon"],n=(0,Ph.spawn)(ce.flutterCommand,r,{cwd:t,detached:!1,shell:kh.default.platform()==="win32"?!0:void 0});return this.process=n,n.on("exit",this.onExit),n.on("exit",this.onError),n.stdout.on("data",this.onStdout),!0}stop(){this.process&&(this._currentDevice=void 0,this._devices.clear(),this.process.kill(),this.process=void 0)}updateCurrentDevice(){var t;this.selectedDeviceId&&this._devices.has(this.selectedDeviceId)?this._currentDevice=this._devices.get(this.selectedDeviceId):this._currentDevice=this._devices.size>0?this._devices.values().next().value:void 0,it.updateDevice((t=this._currentDevice)==null?void 0:t.name,!1)}selectDevice(t){var r;this._currentDevice=t,this.selectedDeviceId=t.id,this.config.update(Dh,t.id),it.updateDevice((r=this._currentDevice)==null?void 0:r.name,!1)}};async function fw(e){let t=Oh.workspace.getConfiguration("flutter");if(!t.get("enabled",!0))return;e.subscriptions.push(se),se.init(t.get("trace.server","off"));let n=new Ma,i=new Ta(n);e.subscriptions.push(i),e.subscriptions.push(new uo(i,n)),e.subscriptions.push(new Ca),e.subscriptions.push(new Na(i,n))}
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
